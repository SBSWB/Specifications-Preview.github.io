<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  
  <title>XFS4IOT Sample Messaging for KeyManagement Draft 0.0.4 documentation</title>
  
  <link rel="stylesheet" href="css/main.css" />
</head>

<body>
  <div class="navigation">
    
    <h2 class="navigation__header">Introduction</h2>
    <ul class="navigation__list">
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#introduction">Basic
          Information</a>
      </li>
    </ul>
    

    <h2 class="navigation__header">Documentation</h2>
    <ul class="navigation__list">
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#section-Diagram1">Appendix-A</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#section-Diagram2">Remote Key Loading Using Signatures</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#section-Diagram3">Initialization Phase – Signature Issuer and ATM PIN</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#section-Diagram4">Initialization Phase – Signature Issuer and Host</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#section-Diagram5">Key Exchange – Host and ATM PIN</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#section-Diagram6">Key Exchange (with random number) – Host and ATM PIN</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#section-Diagram7">Enhanced RKL, Key Exchange (with random number) – Host and ATM PIN</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#section-Diagram8">Remote Key Loading Using Certificates</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#section-Diagram9">Certificate Exchange and Authentication</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#section-Diagram10">Remote Key Exchange</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#section-Diagram11">Replace Certificate</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#section-Diagram12">Primary and Secondary Certificate</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#section-Diagram13">TR34 BIND To Host</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#section-Diagram14">TR34 Key Transport</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#section-Diagram15">TR34 REBIND To New Host</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#section-Diagram16">TR34 Force REBIND To New Host </a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#section-Diagram17">TR34 UNBIND From Host</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#section-Diagram18">TR34 Force UNBIND From Host</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#section-Diagram19">EMV Support</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#section-Diagram20">ImportKey command Input-Output Parameters</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#section-Diagram21">Appendix–D (TR-31 Key Use)</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#section-Diagram22">RestrictedKeyEndKey Command Usage</a>
      </li>
      
    </ul>

    <h2 class="navigation__header">Commands</h2>
    <ul class="navigation__list">
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#command-KeyManagement.GetStatus">KeyManagement.GetStatus</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#command-KeyManagement.GetKeyDetail">KeyManagement.GetKeyDetail</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#command-KeyManagement.Initialization">KeyManagement.Initialization</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#command-KeyManagement.DeriveKey">KeyManagement.DeriveKey</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#command-KeyManagement.Reset">KeyManagement.Reset</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#command-KeyManagement.ImportKey">KeyManagement.ImportKey</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#command-KeyManagement.DeleteKey">KeyManagement.DeleteKey</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#command-KeyManagement.ExportRSAIssuerSignedItem">KeyManagement.ExportRSAIssuerSignedItem</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#command-KeyManagement.GenerateRSAKeyPair">KeyManagement.GenerateRSAKeyPair</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#command-KeyManagement.ExportRSAEPPSignedItem">KeyManagement.ExportRSAEPPSignedItem</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#command-KeyManagement.GetCertificate">KeyManagement.GetCertificate</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#command-KeyManagement.ReplaceCertificate">KeyManagement.ReplaceCertificate</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#command-KeyManagement.StartKeyExchange">KeyManagement.StartKeyExchange</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#command-KeyManagement.GenerateKCV">KeyManagement.GenerateKCV</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#command-KeyManagement.LoadCertificate">KeyManagement.LoadCertificate</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#command-KeyManagement.StartAuthenticate">KeyManagement.StartAuthenticate</a>
      </li>
      
    </ul>

    <h2 class="navigation__header">Unsolicited Events</h2>
    <ul class="navigation__list">
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#message-KeyManagement.InitializedEvent">KeyManagement.InitializedEvent</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#message-KeyManagement.IllegalKeyAccessEvent">KeyManagement.IllegalKeyAccessEvent</a>
      </li>
      
      <li class="navigation__list__item">
        <a class="navigation__list__item-text navigation__list__item-text--link" href="#message-KeyManagement.CertificateChangeEvent">KeyManagement.CertificateChangeEvent</a>
      </li>
      
    </ul>

    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    <h2 class="navigation__header">Events</h2>
    <ul class="navigation__list">
      
    </ul>
  </div>

  <div class="documentation">
    <div class="container">
      
<div class="center-block p-8">
  <a name="introduction"></a>
  <h1>XFS4IOT Sample Messaging for KeyManagement Draft 0.0.4</h1>
  <div class="leading-normal mb-4">
    
    
  </div>

  <div class="markdown">
    <p>This section describes the general interface for the following functions:</p>
<ul>
<li>
<p>Loading of encryption keys</p>
</li>
<li>
<p>EMV 4.0 PIN blocks, EMV 4.0 public key loading, static and dynamic data verification</p>
</li>
</ul>
<p>Important Notes:</p>
<ul>
<li>
<p>This revision of this specification does not define all key management procedures; some key management is still vendor-specific.</p>
</li>
<li>
<p>Key space management is customer-specific, and is therefore handled by vendor-specific mechanisms.</p>
</li>
</ul>
<p>Key values are passed to the API as binary hexadecimal values, for example: 0123456789ABCDEF = 0x01 0x23 0x45 0x67 0x89 0xAB 0xCD 0xEF
When hex values are passed to the API within strings, the hex digits 0xA to 0xF can be represented by characters in the ranges ‘a’ to ‘f’ or ‘A’ to ‘F’.
The following commands and events were initially added to support the German ZKA standard, but may also be used for other national standards:</p>
<p>Certain levels of the PCI EPP security standards specify that if a key encryption key is deleted or replaced, then all keys in the hierarchy under that key encryption key are also removed. Key encryption keys have the keyEncKey type of access. Applications can check impact of key deletion using Keydetail.</p>

  </div>

  <div class="leading-normal mb-4">
    
  </div>
</div>






<div class="center-block p-8">
  <a name="documentation"></a>
  <h2>Documentation</h2>

  
  

<div class="section">
  <a name="section-Diagram1"></a>
  <h2 class="section-header">Appendix-A</h2>

  <div class="markdown">
    <p>This section provides extended explanation of concepts and functionality needing further clarification. The terminology as described below is used within the following sections.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Definitions and Abbreviations</th>
<th style="text-align:left"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">ATM</td>
<td style="text-align:left">Automated Teller Machine, used here for any type of self-service terminal, regardless whether it actually dispenses cash</td>
</tr>
<tr>
<td style="text-align:left">CA</td>
<td style="text-align:left">Certificate Authority</td>
</tr>
<tr>
<td style="text-align:left">Certificate</td>
<td style="text-align:left">A data structure that contains a public key and a name that allows certification of a public key belonging to a specific individual. This is certified using digital signatures.</td>
</tr>
<tr>
<td style="text-align:left">HOST</td>
<td style="text-align:left">The remote system that an ATM communicates with.</td>
</tr>
<tr>
<td style="text-align:left">KTK</td>
<td style="text-align:left">Key Transport Key</td>
</tr>
<tr>
<td style="text-align:left">PKI</td>
<td style="text-align:left">Public Key Infrastructure</td>
</tr>
<tr>
<td style="text-align:left">Private Key</td>
<td style="text-align:left">That key of an entity’s key pair that should only be used by that entity.</td>
</tr>
<tr>
<td style="text-align:left">Public Key</td>
<td style="text-align:left">That key of an entity’s key pair that can be made public.</td>
</tr>
<tr>
<td style="text-align:left">Symmetric Key</td>
<td style="text-align:left">A key used with symmetric cryptography</td>
</tr>
<tr>
<td style="text-align:left">verification Key</td>
<td style="text-align:left">A key that is used to verify the validity of a certificate</td>
</tr>
<tr>
<td style="text-align:left">signatureIssuer</td>
<td style="text-align:left">An entity that signs the ATM´s public key at production time, may be the ATM manufacturer</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">Notation of Cryptographic Items and Functions</th>
<th style="text-align:left"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">SKE</td>
<td style="text-align:left">The private key belonging to entity E</td>
</tr>
<tr>
<td style="text-align:left">PKE</td>
<td style="text-align:left">The public belonging to entity E</td>
</tr>
<tr>
<td style="text-align:left">SKATM</td>
<td style="text-align:left">The private key belonging to the ATM/PIN</td>
</tr>
<tr>
<td style="text-align:left">PKATM</td>
<td style="text-align:left">The public key belonging to the ATM/PIN</td>
</tr>
<tr>
<td style="text-align:left">SKHOST</td>
<td style="text-align:left">The private key belonging to the Host</td>
</tr>
<tr>
<td style="text-align:left">PKHOST</td>
<td style="text-align:left">The public key belonging to the Host</td>
</tr>
<tr>
<td style="text-align:left">SKSI</td>
<td style="text-align:left">The private key belonging to Signature Issuer</td>
</tr>
<tr>
<td style="text-align:left">PKSI</td>
<td style="text-align:left">The public key belonging to Signature Issuer</td>
</tr>
<tr>
<td style="text-align:left">SKROOT</td>
<td style="text-align:left">The root private key belonging to the Host</td>
</tr>
<tr>
<td style="text-align:left">PKROOT</td>
<td style="text-align:left">The root public key belonging to the Host</td>
</tr>
<tr>
<td style="text-align:left">KNAME</td>
<td style="text-align:left">A symmetric key</td>
</tr>
<tr>
<td style="text-align:left">CertHOST</td>
<td style="text-align:left">A Certificate that contains the public verification of the host and is signed by a trusted Certificate Authority.</td>
</tr>
<tr>
<td style="text-align:left">CertATM</td>
<td style="text-align:left">A Certificate that contains the ATM/PIN public verification or encipherment key, which is signed by a trusted Certificate Authority.</td>
</tr>
<tr>
<td style="text-align:left">CertCA</td>
<td style="text-align:left">The Certificate of a new Certificate Authority</td>
</tr>
<tr>
<td style="text-align:left">RATM</td>
<td style="text-align:left">Random Number of the ATM/PIN</td>
</tr>
<tr>
<td style="text-align:left">IHOST</td>
<td style="text-align:left">Identifier of the Host</td>
</tr>
<tr>
<td style="text-align:left">KKTK</td>
<td style="text-align:left">Key Transport Key</td>
</tr>
<tr>
<td style="text-align:left">RHOST</td>
<td style="text-align:left">Random number of the Host</td>
</tr>
<tr>
<td style="text-align:left">IATM</td>
<td style="text-align:left">Identifier of the ATM/PIN</td>
</tr>
<tr>
<td style="text-align:left">TPATM</td>
<td style="text-align:left">Thumb Print of the ATM/PIN</td>
</tr>
<tr>
<td style="text-align:left">Sign(SKE)[D]</td>
<td style="text-align:left">The signing of data block D, using the private key SKE</td>
</tr>
<tr>
<td style="text-align:left">Recover(PKE)[S]</td>
<td style="text-align:left">The recovery of the data block D from the signature S, using the private key PKE</td>
</tr>
<tr>
<td style="text-align:left">RSACrypt(PKE)[D]</td>
<td style="text-align:left">RSA Encryption of the data block D using the public key PKE</td>
</tr>
<tr>
<td style="text-align:left">Hash [M]</td>
<td style="text-align:left">Hashing of a message M of arbitrary length to a 20 Byte hash value</td>
</tr>
<tr>
<td style="text-align:left">Des(K) [D]</td>
<td style="text-align:left">DES encipherment of an 8 byte data block D using the secret key K</td>
</tr>
<tr>
<td style="text-align:left">Des-1(K)[D]</td>
<td style="text-align:left">DES decipherment of an 8 byte data block D using the 8 byte secret key K</td>
</tr>
<tr>
<td style="text-align:left">Des3(K)[D]</td>
<td style="text-align:left">Triple DES encipherment of an 8 byte data block D using the 16 byte secret key K = (KL</td>
</tr>
<tr>
<td style="text-align:left">Des3-1 (K) [D]</td>
<td style="text-align:left">Triple DES decipherment of an 8 byte data block D using the 16 byte secret key K = (KL</td>
</tr>
<tr>
<td style="text-align:left">RndE</td>
<td style="text-align:left">A random number created by entity E</td>
</tr>
<tr>
<td style="text-align:left">UIE</td>
<td style="text-align:left">Unique Identifier for entity E</td>
</tr>
<tr>
<td style="text-align:left">( A || B )</td>
<td style="text-align:left">Concatenation of A and B</td>
</tr>
</tbody>
</table>

  </div>

  
</div>


  
  

<div class="section">
  <a name="section-Diagram2"></a>
  <h2 class="section-header">Remote Key Loading Using Signatures</h2>

  <div class="markdown">
    <h3>RSA Data Authentication and Digital Signatures</h3>
<hr>
<p>Digital signatures rely on a public key infrastructure (PKI). The PKI model involves an entity, such as a Host,  having a pair of encryption keys – one private, one public. These keys work in consort to encrypt, decrypt and  authenticate data. One way authentication occurs is through the application of a digital signature. For example:</p>
<ol>
<li>The Host creates some data that it would like to digitally sign;</li>
<li>Host runs the data through a hashing algorithm to produce a hash or digest of the data. The digest is unique  to every block of data – a digital fingerprint of the data, much smaller and therefore more economical to  encrypt than the data itself.</li>
<li>Digest is encrypted with the Host’s private key.</li>
</ol>
<p>This is the digital signature – a data block digest encrypted with the private key. The Host then sends the following  to the ATM:</p>
<ol>
<li>Data block.</li>
<li>Digital signature.</li>
<li>Host’s public key.</li>
</ol>
<p>To validate the signature, the ATM performs the following:</p>
<ol>
<li>ATM runs data through the standard hashing algorithm – the same one used by the Host – to produce a  digest of the data received. Consider this digest2;</li>
<li>ATM uses the Host’s public key to decrypt the digital signature. The digital signature was produced using  the Host’s private key to encrypt the data digest; therefore, when decrypted with the Host’s public key it  produces the same digest. Consider this digest1. Incidentally, no other public key in the world would work  to decrypt digest1 – only the public key corresponding to the signing private key.</li>
<li>ATM compares digest1 with digest2.</li>
</ol>
<p>If digest1 matches digest2 exactly, the ATM has confirmed the following:</p>
<p>•	Data was not tampered with in transit. Changing a single bit in the data sent from the Host to the ATM  would cause digest2 to be different than digest1. Every data block has a unique digest; therefore, an altered  data block is detected by the ATM.</p>
<p>•	Public key used to decrypt the digital signature corresponds to the private key used to create it. No other  public key could possibly work to decrypt the digital signature, so the ATM was not handed someone  else’s public key.
This gives an overview of how Digital Signatures can be used in Data Authentication. In particular, Signatures can  be used to validate and securely install Encryption Keys. The following section describes Key Exchange and the  use of Digital signatures.</p>
<h3>RSA Secure Key Exchange using Digital Signatures</h3>
<hr>
<p>In summary, both end points, the ATM and the Host, inform each other of their Public Keys. This information is then used to securely send the PIN device Master Key to the ATM. A trusted third party, the Signature Issuer, is  used to generate the signatures for the Public keys of each end point, ensuring their validity.</p>
<p>The detail of this is as follows:</p>
<p>Purpose:	The Host wishes to install a new master key (KM) on the ATM securely.</p>
<p>Assumptions:</p>
<ol>
<li>
<p>The Host has obtained the Public Key (PK SI ) from the Signature Issuer.</p>
</li>
<li>
<p>The Host has provided the Signature Issuer with its Public Key (PK HOST ), and receives the corresponding signature Sign(SK SI )[ PK HOST ]. The Signature Issuer uses its own Private Key (SK SI ) to create this signature.</p>
</li>
<li>
<p>In the case where Enhanced Remote Key Loading is used, the host has provided the Signature Issuer with its Public Key (PK ROOT ), and receives the corresponding signature Sign(SK SI )[PK ROOT ]. The host has generated another key pair PKHOST and SKHOST and signs the PKHOST with the SKROOT.</p>
</li>
<li>
<p>(Optional) The host obtains a list of the valid encryption module's Unique Identifiers. The Signature Issuer installs a Signature Sign(SK SI )[ UI ATM ] for the Unique Id (UI ATM ) on the ATM encryption module. The Signature Issuer uses SKSI to do this.</p>
</li>
<li>
<p>The Signature Issuer installs its Public Key (PK SI ) on the ATM encryption module. It also derives and installs the Signature Sign(SK SI  )[PK ATM ] of the ATM encryption module's Public Key (PK ATM ) on the ATM encryption module. The Signature Issuer uses SKSI to do this.</p>
</li>
<li>
<p>The ATM encryption module additionally contains its own Public (PK ATM ) and Private Key (SK ATM ).</p>
</li>
</ol>
<p>Step 1</p>
<p>The ATM KeyManagement sends its Public Key to the Host in a secure structure:</p>
<p>The ATM KeyManagement sends its ATM Public Key with its associated Signature. When the Host receives this information it will use the Signature Issuer’s Public Key to validate the signature and obtain the ATM Public Key.</p>
<p>The command used to export the encryption module's public key securely as described above is ExportRsaIssuerSignedItem.</p>
<p>Step 2 (Optional)</p>
<p>The Host verifies that the key it has just received is from a valid sender.</p>
<p>It does this by obtaining the encryption module unique identifier. The ATM KeyManagement sends its Unique Identifier with its associated Signature. When the Host receives this information it will use the Signature Issuer’s Public Key to validate the signature and retrieve the Encryption Module Unique Identifier. It can then check this against the list it received from the Signature Issuer.</p>
<p>The command used to export the encryption module Unique Identifier is
ExportRsaIssuerSignedItem.</p>
<p>Step 3 (Enhanced Remote Key Loading only)</p>
<p>The Host sends its root public key to the ATM KeyManagement:</p>
<p>The Host sends its Root Public Key (PKROOT) and associated Signature. The ATM encryption module verifies the signature using PKSI and stores the key.</p>
<p>The command used to import the host root public key securely as described above is
ImportRsaPublicKey.</p>
<p>Step 4</p>
<p>The Host sends its public key to the ATM KeyManagement:</p>
<p>The Host sends its Public Key (PK HOST ) and associated Signature. The ATM encryption module verifies the signature using PKSI (or PKROOT in the Enhanced Remote Key Loading Scheme) and stores the key.</p>
<p>The command used to import the host public key securely as described above is
ImportRsaPublicKey.</p>
<p>Step 5 &lt;br&gt;</p>
<p>The ATM KeyManagement receives its Master Key from the Host:</p>
<p>The Host encrypts the Master Key (KM) with PKATM. A signature for this is then created using SKHOST. The ATM encryption module will then validate the signature using PKHOST and then obtain the master key by decrypting using SKATM.</p>
<p>The commands used to exchange master symmetric keys as described above are:</p>
<p>•	 StartKeyExchange</p>
<p>•	 ImportRsaSignedDesKey</p>
<p>Step 6 – Alternative including random number
The host requests the ATM KeyManagement to begin the DES key transfer process and generate a random number.</p>
<p>The Host encrypts the Master Key (KM) with PKATM. A signature for the random number and encrypted key is then created using SKHOST.</p>
<p>The ATM encryption module will then validate the signature using PKHOST, verify the random number and then obtain the master key by decrypting using SKATM.</p>
<p>The commands used to exchange master symmetric keys as described above are:</p>
<p>•	 StartKeyExchange</p>
<p>•	 ImportRsaSignedDesKey</p>
<p>The following diagrams summaries the key exchange process described above:</p>
<h3>Default Keys and Security Item loaded during manufacture</h3>
<hr>
<p>Several keys and a security item which are mandatory for the 2 party/Signature authentication scheme are installed during manufacture. These items are given fixed names so multi-vendor applications can be developed without the need for vendor specific configuration tools.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Item Name</th>
<th style="text-align:left">Item Type</th>
<th style="text-align:left">Signed by</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">“sigIssuerVendor”</td>
<td style="text-align:left">Public Key</td>
<td style="text-align:left">N/A</td>
<td style="text-align:left">The public key of the  signature issuer, i.e. PKSI</td>
</tr>
<tr>
<td style="text-align:left">“eppCryptKey”</td>
<td style="text-align:left">Public/Private  key-pair</td>
<td style="text-align:left">The private key  associated with  sigIssuerVendor</td>
<td style="text-align:left">The key-pair used to encrypt  and encrypt the symmetric.  key, i.e SK ATM   and PK ATM .  The public key is used for encryption  by the host and the private  for decryption by the epp.</td>
</tr>
</tbody>
</table>
<p>In addition the following optional keys can be loaded during manufacture.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Item Name</th>
<th style="text-align:left">Item Type</th>
<th style="text-align:left">Signed by</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">“eppSignKey”</td>
<td style="text-align:left">Public/Private  key-pair</td>
<td style="text-align:left">The private key  associated with  sigIssuerVendor</td>
<td style="text-align:left">A key-pair where the private key  is used to sign data, e.g. other  generated key pairs</td>
</tr>
</tbody>
</table>

  </div>

  
</div>


  
  

<div class="section">
  <a name="section-Diagram3"></a>
  <h2 class="section-header">Initialization Phase – Signature Issuer and ATM PIN</h2>

  <div class="markdown">
    <p>This would typically occur in a secure manufacturing environment.</p>
<pre><code class="language-plantuml">
![GeneratedDiagram](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJoAAABgCAIAAABqlPw/AAAAKXRFWHRjb3B5bGVmdABHZW5lcmF0ZWQgYnkgaHR0cDovL3BsYW50dW1sLmNvbREwORwAAAG4aVRYdHBsYW50dW1sAAEAAAB4nI2S32vbQAzH3w/6P4jsJXlIsM0yMjNG26zr3MZr6KXpQzvG1VHdY/addz9SAvnjq3PIkmWD1nDYkj76Sjr52DphnK+re3PEwrG/pGqEETVw/O1RFZijtaLEk0qWCgpUDs0WJtDJQjZCOeAZCAsdTpRw3iBk1no0nUNumn1vwUtc5UKRcE2SHQjYer0OL1L61G85SGF6eTLL4R/3Tbbn7n/e0WQGr9IOwcjyyYF+bKPvbp+kwxADenayqBYQ6O1Mf+mFabqcRHt3bcaPQ/FDVZ5tv/+f+tZq7XyvVON/ZgjW7kYOqu9J7Vc/JoP2fsTYtKK93OQTWKKxUiuIB0kUfxxEH7pfjYRcrCB5D/EojaM0GcIpn0GI91j3fDoBq70pEBbSOiMfvCOBHrsQSwHXXjlZYwrB6s7yHvCzrRPO1FIarcLy2cU830DwTTveaNfC40pSEOb5Rm2+aS6l7kaD6GcyjPsP0YhdNWiEk6oEvrIO6xRupVroZwtxxK74Xlo0iNgXfBS+clS90AtKSmHcxMkwYROhSk8/Ywqo2FhTk2aVwvkpewEoiu7621pY9QAACcxJREFUeNrtXHuIHVcZ/87Z9yPbbPeR7Cbbu0n3vdln0LpqpOkfbdCiayWo1KBUCbG2tT5AREqNRZAaai1VCH0pfaSIRGprVCTGqDFtWUIMbY2BECPWkqaEEtO4XRPi75wzM/fcee3cu3eTvXO/H4fLmW/OnNfv+77znZk7Q8RgMBgMBoPBcLD+kuRUuonpZDo5MZ2cmE5OxaDTJ1lqQdPAX+Sy68W8oypii72/FjW9FKy8uA2teUbU9pOoospWav+ymPiPI4ew97cinrwSpvPyd6B+glpvE4va+rW/EL4ZvvpTToutXxB1Y7RQOpNMnzk18KKsbKfG9ztl1v5M1A0rLYNaoZe+wl0/FBVXUXU3Df9NQgdRrPoa6v9zSOXDr8rGD6p6ZB3BHEf+GdLj0D4Ex4IuGcWvX09Df802cc2PBEwBncHlUcNE3yCH6cRbZ3xDa55S9g153Qj1PB9iastuUHR2fked6vmVymPUntXisP+P8yt3ceg0WP5xYfySr86+34vQxjAwOx+sHDpho+G9FEOn3Ye4EZKaaEftns12tXp1pNeBztmzGU9naEOGHhtYL/x0Xi8qltHk/1Qev6pL3eQtLjhs+6IoJp2hntYcrviKamnkH063IGndKtAn/CLf+KGcaqGn6447+e6fiOG/qzzUNthRUaHKGKOMcbbBPgTHctVHVH+MQxM1zqmG92UvbL9TRNEJVoCJ/yaiM7QhzAAARUe+7w+qZPPmuLV/5TeEMXRziKaVckzQZaLTnnGMAZh8V2vZu9J2Gs61FyPygY5iuVKTUqFcaOe3xfiZODrtPgTHMvqvkFPQIe8U9CCqG+h/lK9K2lCNfwJhiFFcQr3UkvQD4ePMm8ZFd7Y5JmXRaebIT2fi+BBqDhah71WdqgBWl4TdSzgWQ6cx6Bg6TbGEdMY0ZAM6GmwI+tp0k+Jy9fdFcJ5DHdii02kcC9wsLM84W29TkS+dXhp7K2c8pjxc0MQ7C6IT4aLjbC+q6LEo1hlazLhrrKAxYwSXpj928GjXFmXQi0tnMOBOGEQEKzdrmwcvckYkbIfyBdOZ2Zntau1gZChkFDTh2hnakB1zGcAK/T72ayJqUYPW2lZxWel0NiojeqMymKOS+dI5+m/Z/AkB40BVGL+3LEFjqlYqYXBbktcsK0YfVRsV9NOJyMJ8oFnMEMIUTCdS9+MCraB+bNLavpSNA7yEEUXRCXtAHvFRcehMazKRs9kdYi+IPKgNuQn1spoQWNiV6qcx7sGZhe07U0/q8o/5/Ru2K6ElseVV0cAV6id2nFh3Cr8rhOjUSymmc+xN2fI5tXnHMNVt0juzt0l9CZ62bviKTQWa9m7F+DYRPpr4iQo/IOPEdHJiOjktjM7MI4JT6Sb+KyqDwWAwGAwGg8FgMBgMBoPBYDAYDAaDwWAwGAwGg8FgpAdVK6jjHtG3V4yflZNzcuK8HHhJdm4XVR3zX9swRX37CvlXWcEXhsL7r+LQK7Kmp4y5bN0qxk7J1feLxg+QqNYiSXWj1HGvki+fFgnnsWACiksnBtJ+R7n+abHtdjF0RFZ3EQzx2t1iclYOHZbLP+q88gIuR9+Q9eOqZO0Q9f/JsV1YFS6hwB+vIanOKJtDGZQcnJEwQXu6G64jqEj/gZB/APvYDb7/1n6XGH9bjpyQtQPU9aBA/SMnJVTQV75xA/X+Tvjq8dpNM5c1a9UgQaSspeGj1stWp/RrwOfV4Fs/L0CzcWI570G+JEPp9L2YiGrtaXXewN0tCqDTS9A/Ox8sP3ZaynoKbTfNdELH4VGRWflN/dWUvaKiWS1pzntxe/WnRKrJ8Dp5Qb/a3pXUZ0JX1AcsZnOme/UDwlhwPH+hdF59qzB1IrV8VtT26frnQuhc86Ro3iyi2k0t1h1TjktZ3uHsNxqwcDrfyHpYmENDSeYxRTlIhcuCEoD4KDqhEFjABg+FvDBsa0O+dJKMyAfKg8s1T4uodlMLcONlvLnwrLP5k2pGsOqYJUdUquCo5wUx+nrWdoM0YDHGYed9AooS//53DH9wCck/TRDMY+0YPyMXI+Ba2nTOOmqOjPpoxwaqbFHxjvPpxiF1qmePQGRkX4UyQS+HGTTLFbY6yhoy1HSjSEKndyEqxGHTJoEuwTEshE4A0RCGU150IgRdtlFR1f3TkLe3ZSN1PyGwHzWFBw7mforQjRIRXjrfBtylSiLy9MpMnFO/FU3h0+q70FOjJF8lmZdO7FXg8MuLzrZtwvjMyjaCF4V94Bf2AQtD+AMFV7bi3WrooLU/d3Ygvb8RVascudnMQGgIhq9GDKyq2iOwnVdhyI7wafVdCOeMqBhuf91x2bJlodaJoGn4NVledCqbOCAR45CMo9xYD6MEgAC155cCu8MVXxcN78neFYJ2Y2MAB4igH8sbo5QAD5nZKbBdUb50Vv0iDwkIZjAYDAaDwWAwlj7K/cF9ylDWD+7Th/J9cJ9WlOmD+7SiTB/cpxVl+uA+rSjTB/cpRjk+uE8xyvHBfYpRpg/uU0hkAgmjZLg8RfQc0WeIVunf57SEGS1VNGkWnye6qH9v1RJGGnhlMBgMBoORN2qJdhCdJpojeoPoe0SVhVY1RbSvSL26FJYWCbcQHdDDP0+0n2hjSdO5MzBrDyyMg9Kic1tYQ5tLl85ZPYB1Or9R58/q/DGdN++kdOj8cWuiMeCjWqNniEbDCAAy2ljPu8XMC/ZDRBe0NRjM6MOhfDTDnLpOb5cPREhI9/AV3TT6OR19+ev68G7XJ03pw9OlS+fbegD3aq9r4zEt36LzW3T+kQi7mYmgcyZXctSt+X59uIno0zpzT56Gbte5O0KyKdCfjdGXewCj39XyQ6VL54+t4cGSHnT1dLOW7NL5XTp/izUdL+hi0zo/Ox8Ha3OLQW9OEB0hOqkNSObpbO0VIRMh2aclO3UnzWqyP/pygzaig/oUOlbCD39XaJU8Zs3aDi1vttzOKe0Sm6zpWBVGYZDOKW2LhwKnbnYl6/NfO02+K1C4K7CCmDepql1NjSpssFfLnwh4qVJFD9G39JDOuZIjrr+1/Y+PmBg6b9eH9xENBE591ZVsyz+qCp4KSmw6M2F0BnFBy0v+0ZKJBT6s8+O5I3/IdT6XtJElpBPabf5WdlYfYjZvzC3WQnRGb4rO6kzLItC533W20nW2+xYh/F6K2B7waQ+7p6Yt4c0J6DzpHpoV94R1+Tn922RtjbboePKSXrwLcLbxdE4Hrt0wH53poXm7ttEL2lYeshaPetcFzVn3FmLonNY2N+fuFqbcrcIe7cnNqmwcwEH3ErOsjhebThPKHdGtv+b6nnKhMwb73TiWUfKARR7WdG7luVgy+D8dnmUjIDrJMQAAAABJRU5ErkJggg==)

</code></pre>

  </div>

  
</div>


  
  

<div class="section">
  <a name="section-Diagram4"></a>
  <h2 class="section-header">Initialization Phase – Signature Issuer and Host</h2>

  <div class="markdown">
    <p>This would typically occur in a secure offline environment.</p>
<pre><code class="language-plantuml">![GeneratedDiagram](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJoAAABgCAIAAABqlPw/AAAAKXRFWHRjb3B5bGVmdABHZW5lcmF0ZWQgYnkgaHR0cDovL3BsYW50dW1sLmNvbREwORwAAAGZaVRYdHBsYW50dW1sAAEAAAB4nHWR3U7jMBCF7y3xDiO4aS9aJdEWdS2EgMJCodlWGMoFIGTSIVib2ME/XVXqw+84AYF2tZGi5Jw583lsHzkvrQ919WB3WHzdL6UbaWUNAt8C6gJzdE6WeFypUkOB2qP9CFPQq0I1UnsQU5AOdgWlpA8WYepcQLv7d24x/dkGr3CTS03gmpBtarvdxg+BDgZtDDgsri7m4gbe/cHhp0/yHzcu3hNU6t93jY9tRhuPYFX56mHv7lV5jCbQ84XeyXdoFP9htaXPNtQriPj4f0SCTnKHsUVFO73NZ7BG65TRkA6zJP0+TPZ7P6yCXG4g+wbpmKcJz0ZwQrBY77Pe+WIGzgRbIKyU81Y9B0+APruUawnXQXtVI4eoejd5H8TZhwlneq2s0fE42eUy70JwYbxojG/Dk0pREZZ5R1t2w3GabjxMnrJROnhOxmzeoJVe6RLExnmsOdwpvTK/HaQJm4svbckwYaf4IkPlafXCrKiJw6RJs1HGZlKXga6XA2o2MTSk3XA4P2F/AEY6vpgY/nitAAAJzElEQVR42u1ce4gdVxn/ztn3I9ts95HsJtu7Sfe92WfQumqk6R9t0KJrJajUoFQJsba1PkBESo1FkBpqLVUIfSl9pIhEamtUJMaoMW1ZQgxtjYEQI9aSpoQS07hdE+LvnDMz99x57dy7d5O9c78fh8uZb86c1+/7vvOdmTtDxGAwGAwGg8FwsP6S5FS6ielkOjkxnZyYTk7FoNMnWWpB08Bf5LLrxbyjKmKLvb8WNb0UrLy4Da15RtT2k6iiylZq/7KY+I8jh7D3tyKevBKm8/J3oH6CWm8Ti9r6tb8Qvhm++lNOi61fEHVjtFA6k0yfOTXwoqxsp8b3O2XW/kzUDSstg1qhl77CXT8UFVdRdTcN/01CB1Gs+hrq/3NI5cOvysYPqnpkHcEcR/4Z0uPQPgTHgi4Zxa9fT0N/zTZxzY8ETAGdweVRw0TfIIfpxFtnfENrnlL2DXndCPU8H2Jqy25QdHZ+R53q+ZXKY9Se1eKw/4/zK3dx6DRY/nFh/JKvzr7fi9DGMDA7H6wcOmGj4b0UQ6fdh7gRkppoR+2ezXa1enWk14HO2bMZT2doQ4YeG1gv/HReLyqW0eT/VB6/qkvd5C0uOGz7oigmnaGe1hyu+IpqaeQfTrcgad0q0Cf8It/4oZxqoafrjjv57p+I4b+rPNQ22FFRocoYo4xxtsE+BMdy1UdUf4xDEzXOqYb3ZS9sv1NE0QlWgIn/JqIztCHMAABFR77vD6pk8+a4tX/lN4QxdHOIppVyTNBlotOecYwBmHxXa9m70nYazrUXI/KBjmK5UpNSoVxo57fF+Jk4Ou0+BMcy+q+QU9Ah7xT0IKob6H+Ur0raUI1/AmGIUVxCvdSS9APh48ybxkV3tjkmZdFp5shPZ+L4EGoOFqHvVZ2qAFaXhN1LOBZDpzHoGDpNsYR0xjRkAzoabAj62nST4nL190VwnkMd2KLTaRwL3Cwszzhbb1ORL51eGnsrZzymPFzQxDsLohPhouNsL6rosSjWGVrMuGusoDFjBJemP3bwaNcWZdCLS2cw4E4YRAQrN2ubBy9yRiRsh/IF05nZme1q7WBkKGQUNOHaGdqQHXMZwAr9PvZrImpRg9baVnFZ6XQ2KiN6ozKYo5L50jn6b9n8CQHjQFUYv7csQWOqViphcFuS1ywrRh9VGxX004nIwnygWcwQwhRMJ1L34wKtoH5s0tq+lI0DvIQRRdEJe0Ae8VFx6ExrMpGz2R1iL4g8qA25CfWymhBY2JXqpzHuwZmF7TtTT+ryj/n9G7YroSWx5VXRwBXqJ3acWHcKvyuE6NRLKaZz7E3Z8jm1eccw1W3SO7O3SX0JnrZu+IpNBZr2bsX4NhE+mviJCj8g48R0cmI6OS2MzswjglPpJv4rKoPBYDAYDAaDwWAwGAwGg8FgMBgMBoPBYDAYDAaDwWCkB1UrqOMe0bdXjJ+Vk3Ny4rwceEl2bhdVHfNf2zBFffsK+VdZwReGwvuv4tArsqanjLls3SrGTsnV94vGD5Co1iJJdaPUca+SL58WCeexYAKKSycG0n5Huf5pse12MXREVncRDPHa3WJyVg4dlss/6rzyAi5H35D146pk7RD1/8mxXVgVLqHAH68hqc4om0MZlByckTBBe7obriOoSP+BkH8A+9gNvv/WfpcYf1uOnJC1A9T1oED9IyclVNBXvnED9f5O+Orx2k0zlzVr1SBBpKyl4aPWy1an9GvA59XgWz8vQLNxYjnvQb4kQ+n0vZiIau1pdd7A3S0KoNNL0D87Hyw/dlrKegptN810QsfhUZFZ+U391ZS9oqJZLWnOe3F79adEqsnwOnlBv9reldRnQlfUByxmc6Z79QPCWHA8f6F0Xn2rMHUitXxW1Pbp+udC6FzzpGjeLKLaTS3WHVOOS1ne4ew3GrBwOt/IeliYQ0NJ5jFFOUiFy4ISgPgoOqEQWMAGD4W8MGxrQ750kozIB8qDyzVPi6h2Uwtw42W8ufCss/mTakaw6pglR1Sq4KjnBTH6etZ2gzRgMcZh530CihL//ncMf3AJyT9NEMxj7Rg/Ixcj4FradM46ao6M+mjHBqpsUfGO8+nGIXWqZ49AZGRfhTJBL4cZNMsVtjrKGjLUdKNIQqd3ISrEYdMmgS7BMSyETgDREIZTXnQiBF22UVHV/dOQt7dlI3U/IbAfNYUHDuZ+itCNEhFeOt8G3KVKIvL0ykycU78VTeHT6rvQU6MkXyWZl07sVeDwy4vOtm3C+MzKNoIXhX3gF/YBC0P4AwVXtuLdauigtT93diC9vxFVqxy52cxAaAiGr0YMrKraI7CdV2HIjvBp9V0I54yoGG5/3XHZsmWh1omgafg1WV50Kps4IBHjkIyj3FgPowSAALXnlwK7wxVfFw3vyd4VgnZjYwAHiKAfyxujlAAPmdkpsF1RvnRW/SIPCQhmMBgMBoPBYDCWPsr9wX3KUNYP7tOH8n1wn1aU6YP7tKJMH9ynFWX64D6tKNMH9ylGOT64TzHK8cF9ilGmD+5TSGQCCaNkuDxF9BzRZ4hW6d/ntIQZLVU0aRafJ7qof2/VEkYaeGUwGAwGg5E3aol2EJ0mmiN6g+h7RJWFVjVFtK9IvboUlhYJtxAd0MM/T7SfaGNJ07kzMGsPLIyD0qJzW1hDm0uXzlk9gHU6v1Hnz+r8MZ0376R06Pxxa6Ix4KNao2eIRsMIADLaWM+7xcwL9kNEF7Q1GMzow6F8NMOcuk5vlw9ESEj38BXdNPo5HX356/rwbtcnTenD06VL59t6APdqr2vjMS3fovNbdP6RCLuZiaBzJldy1K35fn24iejTOnNPnoZu17k7QrIp0J+N0Zd7AKPf1fJDpUvnj63hwZIedPV0s5bs0vldOn+LNR0v6GLTOj87Hwdrc4tBb04QHSE6qQ1I5uls7RUhEyHZpyU7dSfNarI/+nKDNqKD+hQ6VsIPf1dolTxmzdoOLW+23M4p7RKbrOlYFUZhkM4pbYuHAqdudiXr8187Tb4rULgrsIKYN6mqXU2NKmywV8ufCHipUkUP0bf0kM65kiOuv7X9j4+YGDpv14f3EQ0ETn3VlWzLP6oKngpKbDozYXQGcUHLS/7RkokFPqzz47kjf8h1Ppe0kSWkE9pt/lZ2Vh9iNm/MLdZCdEZvis7qTMsi0LnfdbbSdbb7FiH8XorYHvBpD7unpi3hzQnoPOkemhX3hHX5Of3bZG2Ntuh48pJevAtwtvF0Tgeu3TAfnemhebu20QvaVh6yFo961wXNWfcWYuic1jY35+4Wptytwh7tyc2qbBzAQfcSs6yOF5tOE8od0a2/5vqecqEzBvvdOJZR8oBFHtZ0buW5WDL4Px2eZSMgOskxAAAAAElFTkSuQmCC)

</code></pre>

  </div>

  
</div>


  
  

<div class="section">
  <a name="section-Diagram5"></a>
  <h2 class="section-header">Key Exchange – Host and ATM PIN</h2>

  <div class="markdown">
    <p>This following is a typical interaction for the exchange of the initial symmetric master key in a typical ATM
Network. The following is the recommended sequence of interchanges.</p>
<pre><code class="language-plantuml">![GeneratedDiagram](data:image/png;base64,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)

</code></pre>

  </div>

  
</div>


  
  

<div class="section">
  <a name="section-Diagram6"></a>
  <h2 class="section-header">Key Exchange (with random number) – Host and ATM PIN</h2>

  <div class="markdown">
    <p>This following is a typical interaction for the exchange of the initial symmetric master key when the PIN device
Service Provider supports the StartKeyExchange command.</p>
<pre><code class="language-plantuml">![GeneratedDiagram](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJoAAABgCAIAAABqlPw/AAAAKXRFWHRjb3B5bGVmdABHZW5lcmF0ZWQgYnkgaHR0cDovL3BsYW50dW1sLmNvbREwORwAAALqaVRYdHBsYW50dW1sAAEAAAB4nK1VbWvbMBD+buh/ODoYCTTBCcvozBhts65NXS8h7suHtgwlviSijpxJcjpDfvxOVuy8kjKYwXF8d7p77nl08pnSTOp0Gj/LI8fc6pWLGZNsCiH+TlEMMUCl2BjPYz4WMEShURbBFKj5kM+Y0HDdDe+AKTi+TpQ+3vb2Oj9zp49ZwASlm1Ki4yLPYrEwjzzF11oeDB70/PO7ABYLCKlyJfTDTvUpt70AmHCRaIQYRxqSkS3/4XHCNRof0GWAwJzFPGIaFRRmRdmYTiXCG9cTqhJ2oHR6tQKTebMIkoFmXGCUB6GIwBTeg/e+s4s3t72s4Eo+nugNnN2Z5olgcZyBMskvxVBmuW0JKkiiNEa4F5z0gE5ExPERR7kD5z/ysZ8O22BJx8fCPkdpEEXAxuShIjGnn71s1b6t1M0N2/Ia47q+u4TRtcbRkp2yrTLmUFvUl/1fGpZoDku9At83s0E99g0hm9zv4VzaaAWSiSiZllVFOh2QjmWSHTFt86SmKfsuB2MUKDc4WNazdU7yQidAtlXf+fgreMUM8M9wwsQY39vmOVzYHts1bpZT0A/P2wZhxU5R9cmnQVjJbVZVn+OnQ+F2cA7xu8YE+IGVet1nk5mWC3Y23GG5SUbJmhCF26zD7Xm0l0SVxhpSxcUYbDcbxG0i/zchd2d0dzebglta2s2rDA+DDCK0aQleGZGvDf2izdLuHzjkzH1GBvpGHDlOL6bT/D64NTOvDORGvek2vtTdz5UfkkPAMmh+gsap13C9ZgsuiBXjrzqVq94tqCSVQ4SIjgfJB6npuercsDmDfkqn2hQ9MG+Vu6AK4WVhJIbmXCbCfDKcm4fABtFo6XCW6Dy4HXNywkNgsz1YcB6hO627v5qtRm3gnjrdmdkBuWCZ0jj14JHTgLwpaLhON1xb5tZd5zuOmJGY9EkiWuRBe9ZotprOLU1JSp8wj/aG004IpMw8uLpw/gIRpzSJc3MyrwAACcxJREFUeNrtXHuIHVcZ/87Z9yPbbPeR7Cbbu0n3vdln0LpqpOkfbdCiayWo1KBUCbG2tT5AREqNRZAaai1VCH0pfaSIRGprVCTGqDFtWUIMbY2BECPWkqaEEtO4XRPi75wzM/fcee3cu3eTvXO/H4fLmW/OnNfv+77znZk7Q8RgMBgMBoPBcLD+kuRUuonpZDo5MZ2cmE5OxaDTJ1lqQdPAX+Sy68W8oypii72/FjW9FKy8uA2teUbU9pOoospWav+ymPiPI4ew97cinrwSpvPyd6B+glpvE4va+rW/EL4ZvvpTToutXxB1Y7RQOpNMnzk18KKsbKfG9ztl1v5M1A0rLYNaoZe+wl0/FBVXUXU3Df9NQgdRrPoa6v9zSOXDr8rGD6p6ZB3BHEf+GdLj0D4Ex4IuGcWvX09Df802cc2PBEwBncHlUcNE3yCH6cRbZ3xDa55S9g153Qj1PB9iastuUHR2fked6vmVymPUntXisP+P8yt3ceg0WP5xYfySr86+34vQxjAwOx+sHDpho+G9FEOn3Ye4EZKaaEftns12tXp1pNeBztmzGU9naEOGHhtYL/x0Xi8qltHk/1Qev6pL3eQtLjhs+6IoJp2hntYcrviKamnkH063IGndKtAn/CLf+KGcaqGn6447+e6fiOG/qzzUNthRUaHKGKOMcbbBPgTHctVHVH+MQxM1zqmG92UvbL9TRNEJVoCJ/yaiM7QhzAAARUe+7w+qZPPmuLV/5TeEMXRziKaVckzQZaLTnnGMAZh8V2vZu9J2Gs61FyPygY5iuVKTUqFcaOe3xfiZODrtPgTHMvqvkFPQIe8U9CCqG+h/lK9K2lCNfwJhiFFcQr3UkvQD4ePMm8ZFd7Y5JmXRaebIT2fi+BBqDhah71WdqgBWl4TdSzgWQ6cx6Bg6TbGEdMY0ZAM6GmwI+tp0k+Jy9fdFcJ5DHdii02kcC9wsLM84W29TkS+dXhp7K2c8pjxc0MQ7C6IT4aLjbC+q6LEo1hlazLhrrKAxYwSXpj928GjXFmXQi0tnMOBOGEQEKzdrmwcvckYkbIfyBdOZ2Zntau1gZChkFDTh2hnakB1zGcAK/T72ayJqUYPW2lZxWel0NiojeqMymKOS+dI5+m/Z/AkB40BVGL+3LEFjqlYqYXBbktcsK0YfVRsV9NOJyMJ8oFnMEMIUTCdS9+MCraB+bNLavpSNA7yEEUXRCXtAHvFRcehMazKRs9kdYi+IPKgNuQn1spoQWNiV6qcx7sGZhe07U0/q8o/5/Ru2K6ElseVV0cAV6id2nFh3Cr8rhOjUSymmc+xN2fI5tXnHMNVt0juzt0l9CZ62bviKTQWa9m7F+DYRPpr4iQo/IOPEdHJiOjktjM7MI4JT6Sb+KyqDwWAwGAwGg8FgMBgMBoPBYDAYDAaDwWAwGAwGg8FgpAdVK6jjHtG3V4yflZNzcuK8HHhJdm4XVR3zX9swRX37CvlXWcEXhsL7r+LQK7Kmp4y5bN0qxk7J1feLxg+QqNYiSXWj1HGvki+fFgnnsWACiksnBtJ+R7n+abHtdjF0RFZ3EQzx2t1iclYOHZbLP+q88gIuR9+Q9eOqZO0Q9f/JsV1YFS6hwB+vIanOKJtDGZQcnJEwQXu6G64jqEj/gZB/APvYDb7/1n6XGH9bjpyQtQPU9aBA/SMnJVTQV75xA/X+Tvjq8dpNM5c1a9UgQaSspeGj1stWp/RrwOfV4Fs/L0CzcWI570G+JEPp9L2YiGrtaXXewN0tCqDTS9A/Ox8sP3ZaynoKbTfNdELH4VGRWflN/dWUvaKiWS1pzntxe/WnRKrJ8Dp5Qb/a3pXUZ0JX1AcsZnOme/UDwlhwPH+hdF59qzB1IrV8VtT26frnQuhc86Ro3iyi2k0t1h1TjktZ3uHsNxqwcDrfyHpYmENDSeYxRTlIhcuCEoD4KDqhEFjABg+FvDBsa0O+dJKMyAfKg8s1T4uodlMLcONlvLnwrLP5k2pGsOqYJUdUquCo5wUx+nrWdoM0YDHGYed9AooS//53DH9wCck/TRDMY+0YPyMXI+Ba2nTOOmqOjPpoxwaqbFHxjvPpxiF1qmePQGRkX4UyQS+HGTTLFbY6yhoy1HSjSEKndyEqxGHTJoEuwTEshE4A0RCGU150IgRdtlFR1f3TkLe3ZSN1PyGwHzWFBw7mforQjRIRXjrfBtylSiLy9MpMnFO/FU3h0+q70FOjJF8lmZdO7FXg8MuLzrZtwvjMyjaCF4V94Bf2AQtD+AMFV7bi3WrooLU/d3Ygvb8RVascudnMQGgIhq9GDKyq2iOwnVdhyI7wafVdCOeMqBhuf91x2bJlodaJoGn4NVledCqbOCAR45CMo9xYD6MEgAC155cCu8MVXxcN78neFYJ2Y2MAB4igH8sbo5QAD5nZKbBdUb50Vv0iDwkIZjAYDAaDwWAwlj7K/cF9ylDWD+7Th/J9cJ9WlOmD+7SiTB/cpxVl+uA+rSjTB/cpRjk+uE8xyvHBfYpRpg/uU0hkAgmjZLg8RfQc0WeIVunf57SEGS1VNGkWnye6qH9v1RJGGnhlMBgMBoORN2qJdhCdJpojeoPoe0SVhVY1RbSvSL26FJYWCbcQHdDDP0+0n2hjSdO5MzBrDyyMg9Kic1tYQ5tLl85ZPYB1Or9R58/q/DGdN++kdOj8cWuiMeCjWqNniEbDCAAy2ljPu8XMC/ZDRBe0NRjM6MOhfDTDnLpOb5cPREhI9/AV3TT6OR19+ev68G7XJ03pw9OlS+fbegD3aq9r4zEt36LzW3T+kQi7mYmgcyZXctSt+X59uIno0zpzT56Gbte5O0KyKdCfjdGXewCj39XyQ6VL54+t4cGSHnT1dLOW7NL5XTp/izUdL+hi0zo/Ox8Ha3OLQW9OEB0hOqkNSObpbO0VIRMh2aclO3UnzWqyP/pygzaig/oUOlbCD39XaJU8Zs3aDi1vttzOKe0Sm6zpWBVGYZDOKW2LhwKnbnYl6/NfO02+K1C4K7CCmDepql1NjSpssFfLnwh4qVJFD9G39JDOuZIjrr+1/Y+PmBg6b9eH9xENBE591ZVsyz+qCp4KSmw6M2F0BnFBy0v+0ZKJBT6s8+O5I3/IdT6XtJElpBPabf5WdlYfYjZvzC3WQnRGb4rO6kzLItC533W20nW2+xYh/F6K2B7waQ+7p6Yt4c0J6DzpHpoV94R1+Tn922RtjbboePKSXrwLcLbxdE4Hrt0wH53poXm7ttEL2lYeshaPetcFzVn3FmLonNY2N+fuFqbcrcIe7cnNqmwcwEH3ErOsjhebThPKHdGtv+b6nnKhMwb73TiWUfKARR7WdG7luVgy+D8dnmUjIDrJMQAAAABJRU5ErkJggg==)

</code></pre>

  </div>

  
</div>


  
  

<div class="section">
  <a name="section-Diagram7"></a>
  <h2 class="section-header">Enhanced RKL, Key Exchange (with random number) – Host and ATM PIN</h2>

  <div class="markdown">
    <p>This following is a typical interaction for the exchange of the initial symmetric master key when the PIN device and
Service Provider supports the Enhanced Signature Remote Key Loading scheme.</p>
<pre><code class="language-plantuml">![GeneratedDiagram](data:image/png;base64,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)

</code></pre>

  </div>

  
</div>


  
  

<div class="section">
  <a name="section-Diagram8"></a>
  <h2 class="section-header">Remote Key Loading Using Certificates</h2>

  <div class="markdown">
    <p>The following sections demonstrate the proper usage of the CEN KeyManagement interface to accomplish Remote Key Loading using Certificates.
Beginning with Section 8.2.5, there are sequence diagrams to demonstrate how the CEN KeyManagement interface can be used to complete each of the TR34 operations.</p>

  </div>

  
</div>


  
  

<div class="section">
  <a name="section-Diagram9"></a>
  <h2 class="section-header">Certificate Exchange and Authentication</h2>

  <div class="markdown">
    <p>In summary, both end points, the ATM and the Host, inform each other of their Public Keys. This information is then used  to securely
send the PINS device Master Key to the ATM. A trusted third party, Certificate Authority (or a HOST if it becomes the new CA),
is used to generate the certificates for the Public Keys of each end point, ensuring their validity.
NOTE: The LoadCertificate and  GetCertificate do not necessarily
need to be called in the order below. This way though is the recommend way.</p>
<p>The following flow is how the exchange authentication takes place:</p>
<p>• LoadCertificate is called. In this message contains the host certificate, which has been signed by the trusted CA. The encryptor uses the Public Key of the CA (loaded at the time of
production) to verify the validity of the certificate. If the certificate is valid, the encryptor stores the
HOST’s Public Verification Key.</p>
<p>• Next, GetCertificate is called. The encryptor then sends a message that contains a certificate, which is signed by the CA and is sent to the HOST. The HOST uses the Public Key from the<br>
CA to verify the certificate. If valid then the HOST stores the encryptor’s verification or encryption key<br>
(primary or secondary this depends on the state of the encryptor).</p>
<p>The following diagram shows how the Host and ATM Load and Get each other’s information to make Remote Key Loading possible:</p>
<pre><code class="language-plantuml">
![GeneratedDiagram](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJoAAABgCAIAAABqlPw/AAAAKXRFWHRjb3B5bGVmdABHZW5lcmF0ZWQgYnkgaHR0cDovL3BsYW50dW1sLmNvbREwORwAAAIvaVRYdHBsYW50dW1sAAEAAAB4nI1TTW/aQBC9W8p/GKUXcsCyUamoVVVJaJovXFCg5FKpWmAMq9i77u6YCokf31l/UEodKQfL2nlvZt682b20JAwVWfrDnHnusy9S5cKIDKb4q0C1xBitFWu8SuVawRIVoWnITCS5lLlQBHfj6QyEhfM7ben8FJ3cfyvBR9zFQnG5jAuVrP1+735levdzSYQIhmioDIEDlSaEFBMCePe8kYQuCACzDYJrBxbVykIdlWSrfIeQbsLE5KtZ7Jdn5oOr2kxykPCp20iYTZh91N/I9aZNwI1aml1OUivI9KpIsWm4RSMTibbsnFUu+jV2n7DMfxjKBWrUkjZ13gvuQLDYGjFIhVEVRJsiW+RGKvKhdagTT5/cQtmSRJvSHzfem9ytE+2Jk8DLtK/b2WJp0/U/V99uarXp2hkLUlm5OoA6AcFXlK9dIpeCsF3c33mZXypsH/uwnaOxmzVW+2tZ9OtrbBdzyQF+fmeeN0n5oXyPR66cdYOHfi8IP/rBh85XIyEWO+i9h3AQhUHU68M163b4hde5nYzA6sIsEVbSkpGLwjl34T2IrYCnQpHMMAJ36sziC5jeNEH2eSuNVu41eg/zuCLx+DTNNZXkYSoZhHlcVZtX4iJWN/CDn71+2F0EA2+coxEk1RqmO0uYRfAs1Ur/thAG3nh6lBb4gfcFE1Gk5LasV5zENyMPe/2eNxJqXbC/EaDyhppFml0Et9feH1XTb/w197/qAAAJzElEQVR42u1ce4gdVxn/ztn3I9ts95HsJtu7Sfe92WfQumqk6R9t0KJrJajUoFQJsba1PkBESo1FkBpqLVUIfSl9pIhEamtUJMaoMW1ZQgxtjYEQI9aSpoQS07hdE+LvnDMz99x57dy7d5O9c78fh8uZb86c1+/7vvOdmTtDxGAwGAwGg8FwsP6S5FS6ielkOjkxnZyYTk7FoNMnWWpB08Bf5LLrxbyjKmKLvb8WNb0UrLy4Da15RtT2k6iiylZq/7KY+I8jh7D3tyKevBKm8/J3oH6CWm8Ti9r6tb8Qvhm++lNOi61fEHVjtFA6k0yfOTXwoqxsp8b3O2XW/kzUDSstg1qhl77CXT8UFVdRdTcN/01CB1Gs+hrq/3NI5cOvysYPqnpkHcEcR/4Z0uPQPgTHgi4Zxa9fT0N/zTZxzY8ETAGdweVRw0TfIIfpxFtnfENrnlL2DXndCPU8H2Jqy25QdHZ+R53q+ZXKY9Se1eKw/4/zK3dx6DRY/nFh/JKvzr7fi9DGMDA7H6wcOmGj4b0UQ6fdh7gRkppoR+2ezXa1enWk14HO2bMZT2doQ4YeG1gv/HReLyqW0eT/VB6/qkvd5C0uOGz7oigmnaGe1hyu+IpqaeQfTrcgad0q0Cf8It/4oZxqoafrjjv57p+I4b+rPNQ22FFRocoYo4xxtsE+BMdy1UdUf4xDEzXOqYb3ZS9sv1NE0QlWgIn/JqIztCHMAABFR77vD6pk8+a4tX/lN4QxdHOIppVyTNBlotOecYwBmHxXa9m70nYazrUXI/KBjmK5UpNSoVxo57fF+Jk4Ou0+BMcy+q+QU9Ah7xT0IKob6H+Ur0raUI1/AmGIUVxCvdSS9APh48ybxkV3tjkmZdFp5shPZ+L4EGoOFqHvVZ2qAFaXhN1LOBZDpzHoGDpNsYR0xjRkAzoabAj62nST4nL190VwnkMd2KLTaRwL3Cwszzhbb1ORL51eGnsrZzymPFzQxDsLohPhouNsL6rosSjWGVrMuGusoDFjBJemP3bwaNcWZdCLS2cw4E4YRAQrN2ubBy9yRiRsh/IF05nZme1q7WBkKGQUNOHaGdqQHXMZwAr9PvZrImpRg9baVnFZ6XQ2KiN6ozKYo5L50jn6b9n8CQHjQFUYv7csQWOqViphcFuS1ywrRh9VGxX004nIwnygWcwQwhRMJ1L34wKtoH5s0tq+lI0DvIQRRdEJe0Ae8VFx6ExrMpGz2R1iL4g8qA25CfWymhBY2JXqpzHuwZmF7TtTT+ryj/n9G7YroSWx5VXRwBXqJ3acWHcKvyuE6NRLKaZz7E3Z8jm1eccw1W3SO7O3SX0JnrZu+IpNBZr2bsX4NhE+mviJCj8g48R0cmI6OS2MzswjglPpJv4rKoPBYDAYDAaDwWAwGAwGg8FgMBgMBoPBYDAYDAaDwWCkB1UrqOMe0bdXjJ+Vk3Ny4rwceEl2bhdVHfNf2zBFffsK+VdZwReGwvuv4tArsqanjLls3SrGTsnV94vGD5Co1iJJdaPUca+SL58WCeexYAKKSycG0n5Huf5pse12MXREVncRDPHa3WJyVg4dlss/6rzyAi5H35D146pk7RD1/8mxXVgVLqHAH68hqc4om0MZlByckTBBe7obriOoSP+BkH8A+9gNvv/WfpcYf1uOnJC1A9T1oED9IyclVNBXvnED9f5O+Orx2k0zlzVr1SBBpKyl4aPWy1an9GvA59XgWz8vQLNxYjnvQb4kQ+n0vZiIau1pdd7A3S0KoNNL0D87Hyw/dlrKegptN810QsfhUZFZ+U391ZS9oqJZLWnOe3F79adEqsnwOnlBv9reldRnQlfUByxmc6Z79QPCWHA8f6F0Xn2rMHUitXxW1Pbp+udC6FzzpGjeLKLaTS3WHVOOS1ne4ew3GrBwOt/IeliYQ0NJ5jFFOUiFy4ISgPgoOqEQWMAGD4W8MGxrQ750kozIB8qDyzVPi6h2Uwtw42W8ufCss/mTakaw6pglR1Sq4KjnBTH6etZ2gzRgMcZh530CihL//ncMf3AJyT9NEMxj7Rg/Ixcj4FradM46ao6M+mjHBqpsUfGO8+nGIXWqZ49AZGRfhTJBL4cZNMsVtjrKGjLUdKNIQqd3ISrEYdMmgS7BMSyETgDREIZTXnQiBF22UVHV/dOQt7dlI3U/IbAfNYUHDuZ+itCNEhFeOt8G3KVKIvL0ykycU78VTeHT6rvQU6MkXyWZl07sVeDwy4vOtm3C+MzKNoIXhX3gF/YBC0P4AwVXtuLdauigtT93diC9vxFVqxy52cxAaAiGr0YMrKraI7CdV2HIjvBp9V0I54yoGG5/3XHZsmWh1omgafg1WV50Kps4IBHjkIyj3FgPowSAALXnlwK7wxVfFw3vyd4VgnZjYwAHiKAfyxujlAAPmdkpsF1RvnRW/SIPCQhmMBgMBoPBYDCWPsr9wX3KUNYP7tOH8n1wn1aU6YP7tKJMH9ynFWX64D6tKNMH9ylGOT64TzHK8cF9ilGmD+5TSGQCCaNkuDxF9BzRZ4hW6d/ntIQZLVU0aRafJ7qof2/VEkYaeGUwGAwGg5E3aol2EJ0mmiN6g+h7RJWFVjVFtK9IvboUlhYJtxAd0MM/T7SfaGNJ07kzMGsPLIyD0qJzW1hDm0uXzlk9gHU6v1Hnz+r8MZ0376R06Pxxa6Ix4KNao2eIRsMIADLaWM+7xcwL9kNEF7Q1GMzow6F8NMOcuk5vlw9ESEj38BXdNPo5HX356/rwbtcnTenD06VL59t6APdqr2vjMS3fovNbdP6RCLuZiaBzJldy1K35fn24iejTOnNPnoZu17k7QrIp0J+N0Zd7AKPf1fJDpUvnj63hwZIedPV0s5bs0vldOn+LNR0v6GLTOj87Hwdrc4tBb04QHSE6qQ1I5uls7RUhEyHZpyU7dSfNarI/+nKDNqKD+hQ6VsIPf1dolTxmzdoOLW+23M4p7RKbrOlYFUZhkM4pbYuHAqdudiXr8187Tb4rULgrsIKYN6mqXU2NKmywV8ufCHipUkUP0bf0kM65kiOuv7X9j4+YGDpv14f3EQ0ETn3VlWzLP6oKngpKbDozYXQGcUHLS/7RkokFPqzz47kjf8h1Ppe0kSWkE9pt/lZ2Vh9iNm/MLdZCdEZvis7qTMsi0LnfdbbSdbb7FiH8XorYHvBpD7unpi3hzQnoPOkemhX3hHX5Of3bZG2Ntuh48pJevAtwtvF0Tgeu3TAfnemhebu20QvaVh6yFo961wXNWfcWYuic1jY35+4Wptytwh7tyc2qbBzAQfcSs6yOF5tOE8od0a2/5vqecqEzBvvdOJZR8oBFHtZ0buW5WDL4Px2eZSMgOskxAAAAAElFTkSuQmCC)

</code></pre>

  </div>

  
</div>


  
  

<div class="section">
  <a name="section-Diagram10"></a>
  <h2 class="section-header">Remote Key Exchange</h2>

  <div class="markdown">
    <p>After the above has been completed, the HOST is ready to load the key into the encryptor. The following is done to
complete this and the application must complete the Remote Key Exchange in this order:&lt;br&gt;</p>
<ol>
<li>First, the StartKeyExchange is called. This returns RATM from the encryptor to be used in the authenticating the ImportRSAEnchiperdPKCS7Key message.  &lt;br&gt;</li>
<li>Next, ImportRSAEnchiperdPKCS7Key is called. This command sends down the KTK to the encryptor. The following items below show how this is accomplished.&lt;br&gt;
a) HOST has obtained a Key Transport Key and wants to transfer it to the encryptor. HOST constructs a key block containing an identifier
of the HOST, IHOST, and the key, KKTK, and enciphers the block,using the encryptor’s Public Encryption Key from the GetCertificate command. &lt;br&gt;
b) After completing the above, the HOST generates random data and builds the outer message containing the random number of the host,
RHOST, the random number of the encryptor returned in the StartKeyExchange command, RATM , the identifier of the encryptor, IENC,
and the enciphered key block. The HOST signs the whole block using its private signature key and sends the message down to the encryptor.&lt;br&gt;
The encryptor then verifies the HOST’s signature on the message by using the HOST’s Public Verification Key. Then the encryptor checks the identifier and the random number of the encryptor passed in the message to make sure that the encryptor is talking to the right HOST. The encryptor then deciphers the enciphered block using its private verification key. After the message has been deciphered, the encryptor checks the Identifier of the HOST. Finally, if everything checks out to this point the encryptor will load the Key Transport Key. NOTE: If one step of this verification occurs the encryptor will return the proper error to the HOST. &lt;br&gt;
c) After the Key Transport Key has been accepted, the encryptor constructs a message that contains the random number of the host,
the random number of the encryptor and the HOST identifier all signed by the private signature key of the encryptor. This message is sent to the host. &lt;br&gt;
d) The HOST verifies the message sent from the encryptor by using the ATM’s public verification key. The HOST then checks the identifier
of the host and then compares the identifier in the message with the one stored in the HOST. Then checks the random number sent in the message and to the one stored in the HOST. The HOST finally checks the encryptor’s random number with the one received in received in the StartKeyExchange command. &lt;br&gt;</li>
</ol>
<p>The following diagram below shows how the Host and ATM transmit the Key Transport Key.</p>
<pre><code class="language-plantuml">![GeneratedDiagram](data:image/png;base64,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)

</code></pre>

  </div>

  
</div>


  
  

<div class="section">
  <a name="section-Diagram11"></a>
  <h2 class="section-header">Replace Certificate</h2>

  <div class="markdown">
    <p>After the key is been loaded into the encryptor, the following could be completed:</p>
<p>• (Optional) ReplaceCertificate. This is called by entity that would like to take
over the job of being the CA. The new CA requests a Certificate from the previous Certificate Authority.
The HOST must over-sign the message to take over the role of the CA to ensure that the encryptor accepts
the new Certificate Authority. The HOST sends the message to the encryptor. The encryptor uses the
HOST’s Public Verification Key to verify the HOST’s signature. The encryptor uses the previous CA’s
Public Verification Key to verify the signature on the new Certificate sent down in the message. If valid,
the EPP stores the new CA’s certificate and uses the new CA’s Public Verification Key as its new CA
verification key. The diagram below shows how the Host and the ATM communicate to load the new CA.</p>
<pre><code class="language-plantuml">
![GeneratedDiagram](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJoAAABgCAIAAABqlPw/AAAAKXRFWHRjb3B5bGVmdABHZW5lcmF0ZWQgYnkgaHR0cDovL3BsYW50dW1sLmNvbREwORwAAAH7aVRYdHBsYW50dW1sAAEAAAB4nI1S0WrbQBB8P8g/LOmLDbGQRF0cUUocNU2aWLGpXOehLeUsre0j0p1yd7Ix+OO7J0tu8VMFQmhndmZ2726M5drWZfFTXzD3mlchK655CSm+1SgzTNAYvsZxIdYSMpQWdUcmohWZqLi08DBN58ANXD4oYy/P0dnX5wZ8wn3CJcmVJNSwDoeD+zTtg08NESJIyayXPjmt/o8YtY3Hv4AeR5XKIhS4svDuZSMsuprDHBl25GbAKrD8FaGD4jHktRVorsCgzM0JkLgDJy9WIuMk2wDEAGfSjdlk+zjoss1n43lyCqLFenOWZL5BuJOZ3ldWKAmJyuvilGWLmsyQMhKrPO72qgPFCra8EHkD/pVo0VbIWKXbfhe/BeOx9z/21CXbHTiBU7Uul5UW0nrnC2jP54ZqdE0uGJsVtOLvycRNYpxB4IV+cO35H3pftICE7yF8D8EoCvwoHMIt7c7hfda7n03AqFpnCLkwVotl7RL22SPfcvhWSytKjMD99eZJH9K7rkjzbIVW0t0a9rhIjiQ6cZtWyjbkuBAEwiI5qi2O4SJKN/L83+EwGCz9EZtWqLkVcg3p3lgsI3gRMlc7A4HPpuk/bb7ns8+44nVh3TZVTk0RxFUQDkM24XJd08FFgJLFikLqfQT3t+wPo/oJqkST7DsAAAnMSURBVHja7Vx7iB1XGf/O2fcj22z3kewm27tJ973ZZ9C6aqTpH23QomslqNSgVAmxtrU+QERKjUWQGmotVQh9KX2kiERqa1QkxqgxbVlCDG2NgRAj1pKmhBLTuF0T4u+cMzP33Hnt3Lt3k71zvx+Hy5lvzpzX7/u+852ZO0PEYDAYDAaDwXCw/pLkVLqJ6WQ6OTGdnJhOTsWg0ydZakHTwF/ksuvFvKMqYou9vxY1vRSsvLgNrXlG1PaTqKLKVmr/spj4jyOHsPe3Ip68Eqbz8negfoJabxOL2vq1vxC+Gb76U06LrV8QdWO0UDqTTJ85NfCirGynxvc7Zdb+TNQNKy2DWqGXvsJdPxQVV1F1Nw3/TUIHUaz6Gur/c0jlw6/Kxg+qemQdwRxH/hnS49A+BMeCLhnFr19PQ3/NNnHNjwRMAZ3B5VHDRN8gh+nEW2d8Q2ueUvYNed0I9TwfYmrLblB0dn5Hner5lcpj1J7V4rD/j/Mrd3HoNFj+cWH8kq/Ovt+L0MYwMDsfrBw6YaPhvRRDp92HuBGSmmhH7Z7NdrV6daTXgc7ZsxlPZ2hDhh4bWC/8dF4vKpbR5P9UHr+qS93kLS44bPuiKCadoZ7WHK74impp5B9OtyBp3SrQJ/wi3/ihnGqhp+uOO/nun4jhv6s81DbYUVGhyhijjHG2wT4Ex3LVR1R/jEMTNc6phvdlL2y/U0TRCVaAif8mojO0IcwAAEVHvu8PqmTz5ri1f+U3hDF0c4imlXJM0GWi055xjAGYfFdr2bvSdhrOtRcj8oGOYrlSk1KhXGjnt8X4mTg67T4ExzL6r5BT0CHvFPQgqhvof5SvStpQjX8CYYhRXEK91JL0A+HjzJvGRXe2OSZl0WnmyE9n4vgQag4Woe9VnaoAVpeE3Us4FkOnMegYOk2xhHTGNGQDOhpsCPradJPicvX3RXCeQx3YotNpHAvcLCzPOFtvU5EvnV4aeytnPKY8XNDEOwuiE+Gi42wvquixKNYZWsy4a6ygMWMEl6Y/dvBo1xZl0ItLZzDgThhEBCs3a5sHL3JGJGyH8gXTmdmZ7WrtYGQoZBQ04doZ2pAdcxnACv0+9msialGD1tpWcVnpdDYqI3qjMpijkvnSOfpv2fwJAeNAVRi/tyxBY6pWKmFwW5LXLCtGH1UbFfTTicjCfKBZzBDCFEwnUvfjAq2gfmzS2r6UjQO8hBFF0Ql7QB7xUXHoTGsykbPZHWIviDyoDbkJ9bKaEFjYleqnMe7BmYXtO1NP6vKP+f0btiuhJbHlVdHAFeondpxYdwq/K4To1EsppnPsTdnyObV5xzDVbdI7s7dJfQmetm74ik0FmvZuxfg2ET6a+IkKPyDjxHRyYjo5LYzOzCOCU+km/isqg8FgMBgMBoPBYDAYDAaDwWAwGAwGg8FgMBgMBoPBYKQHVSuo4x7Rt1eMn5WTc3LivBx4SXZuF1Ud81/bMEV9+wr5V1nBF4bC+6/i0CuypqeMuWzdKsZOydX3i8YPkKjWIkl1o9Rxr5IvnxYJ57FgAopLJwbSfke5/mmx7XYxdERWdxEM8drdYnJWDh2Wyz/qvPICLkffkPXjqmTtEPX/ybFdWBUuocAfryGpziibQxmUHJyRMEF7uhuuI6hI/4GQfwD72A2+/9Z+lxh/W46ckLUD1PWgQP0jJyVU0Fe+cQP1/k746vHaTTOXNWvVIEGkrKXho9bLVqf0a8Dn1eBbPy9As3FiOe9BviRD6fS9mIhq7Wl13sDdLQqg00vQPzsfLD92Wsp6Cm03zXRCx+FRkVn5Tf3VlL2iolktac57cXv1p0SqyfA6eUG/2t6V1GdCV9QHLGZzpnv1A8JYcDx/oXRefaswdSK1fFbU9un650LoXPOkaN4sotpNLdYdU45LWd7h7DcasHA638h6WJhDQ0nmMUU5SIXLghKA+Cg6oRBYwAYPhbwwbGtDvnSSjMgHyoPLNU+LqHZTC3DjZby58Kyz+ZNqRrDqmCVHVKrgqOcFMfp61naDNGAxxmHnfQKKEv/+dwx/cAnJP00QzGPtGD8jFyPgWtp0zjpqjoz6aMcGqmxR8Y7z6cYhdapnj0BkZF+FMkEvhxk0yxW2OsoaMtR0o0hCp3chKsRh0yaBLsExLIROANEQhlNedCIEXbZRUdX905C3t2UjdT8hsB81hQcO5n6K0I0SEV463wbcpUoi8vTKTJxTvxVN4dPqu9BToyRfJZmXTuxV4PDLi862bcL4zMo2gheFfeAX9gELQ/gDBVe24t1q6KC1P3d2IL2/EVWrHLnZzEBoCIavRgysqtojsJ1XYciO8Gn1XQjnjKgYbn/dcdmyZaHWiaBp+DVZXnQqmzggEeOQjKPcWA+jBIAAteeXArvDFV8XDe/J3hWCdmNjAAeIoB/LG6OUAA+Z2SmwXVG+dFb9Ig8JCGYwGAwGg8FgMJY+yv3BfcpQ1g/u04fyfXCfVpTpg/u0okwf3KcVZfrgPq0o0wf3KUY5PrhPMcrxwX2KUaYP7lNIZAIJo2S4PEX0HNFniFbp3+e0hBktVTRpFp8nuqh/b9USRhp4ZTAYDAaDkTdqiXYQnSaaI3qD6HtElYVWNUW0r0i9uhSWFgm3EB3Qwz9PtJ9oY0nTuTMwaw8sjIPSonNbWEObS5fOWT2AdTq/UefP6vwxnTfvpHTo/HFrojHgo1qjZ4hGwwgAMtpYz7vFzAv2Q0QXtDUYzOjDoXw0w5y6Tm+XD0RISPfwFd00+jkdffnr+vBu1ydN6cPTpUvn23oA92qva+MxLd+i81t0/pEIu5mJoHMmV3LUrfl+fbiJ6NM6c0+ehm7XuTtCsinQn43Rl3sAo9/V8kOlS+ePreHBkh509XSzluzS+V06f4s1HS/oYtM6PzsfB2tzi0FvThAdITqpDUjm6WztFSETIdmnJTt1J81qsj/6coM2ooP6FDpWwg9/V2iVPGbN2g4tb7bczintEpus6VgVRmGQzilti4cCp252JevzXztNvitQuCuwgpg3qapdTY0qbLBXy58IeKlSRQ/Rt/SQzrmSI66/tf2Pj5gYOm/Xh/cRDQROfdWVbMs/qgqeCkpsOjNhdAZxQctL/tGSiQU+rPPjuSN/yHU+l7SRJaQT2m3+VnZWH2I2b8wt1kJ0Rm+KzupMyyLQud91ttJ1tvsWIfxeitge8GkPu6emLeHNCeg86R6aFfeEdfk5/dtkbY226Hjykl68C3C28XROB67dMB+d6aF5u7bRC9pWHrIWj3rXBc1Z9xZi6JzWNjfn7ham3K3CHu3JzapsHMBB9xKzrI4Xm04Tyh3Rrb/m+p5yoTMG+904llHygEUe1nRu5blYMvg/HZ5lIyA6yTEAAAAASUVORK5CYII=)

</code></pre>

  </div>

  
</div>


  
  

<div class="section">
  <a name="section-Diagram12"></a>
  <h2 class="section-header">Primary and Secondary Certificate</h2>

  <div class="markdown">
    <p>Primary and Secondary Certificates for both the Public Verification Key and Public Encipherment Key are pre-loaded into the encryptor. Primary Certificates
will be used until told otherwise by the host via the LoadCertificate or ReplaceCertificate commands. This
change in state will be specified in the pkcs #7 message of the LoadCertificate or ReplaceCertificate commands.
The reason why the host would want to change states is because the host thinks that the Primary Certificates have been compromised.</p>
<p>After the host tells the encryptor to shift to the secondary certificate state, only Secondary Certificates can be used. The encryptor will no
longer be able to go back to the Primary State and any attempts from the host to get or load a Primary Certificate will return an error. When
either Primary or Secondary certificates are compromised it is up to the vendor on how the encryptor should be handled with the manufacturer.</p>

  </div>

  
</div>


  
  

<div class="section">
  <a name="section-Diagram13"></a>
  <h2 class="section-header">TR34 BIND To Host</h2>

  <div class="markdown">
    <p>This section defines the command to use when transferring a TR34 BIND token as defined in X9 TR34-2012
This step is a pre-requisite for all other TR34 operations. The PIN device must be bound to a host before any
other TR34 operation will succeed.
It is recommended that the encryption certificate retrieved during this process is stored for future use otherwise
it will need to be requested prior to every operation.</p>
<pre><code class="language-plantuml">
![GeneratedDiagram](data:image/png;base64,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)

</code></pre>

  </div>

  
</div>


  
  

<div class="section">
  <a name="section-Diagram14"></a>
  <h2 class="section-header">TR34 Key Transport</h2>

  <div class="markdown">
    <p>There are two mechanisms that can be used to transport symmetric keys under TR34; these are the One Pass and Two Pass protocols. The use of CEN commands for these two protocols are shown in the following sections. NOTE: Refer to CRKLLoadOptions in the Capabilities output structure for an indication of whether the PIN device supports one-pass and/or two-pass protocols.</p>
<h3>One Pass</h3>
<p>This section defines the command to use when transferring a TR34 KEY token (1-pass) as defined in X9 TR342012.
Pre-condition: A successful BIND command has completed such that the KeyManagement is bound to the host.</p>
<pre><code class="language-plantuml">
![GeneratedDiagram](data:image/png;base64,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)
</code></pre>
<h3>Two Pass</h3>
<p>This section defines the command to use when transferring a TR34 KEY token (2-pass) as defined in reference.
Pre-condition: A successful BIND command has completed such that theKEyManagement is bound to the host.</p>
<pre><code class="language-plantuml">
![GeneratedDiagram](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJoAAABgCAIAAABqlPw/AAAAKXRFWHRjb3B5bGVmdABHZW5lcmF0ZWQgYnkgaHR0cDovL3BsYW50dW1sLmNvbREwORwAAAHHaVRYdHBsYW50dW1sAAEAAAB4nHWS0W+iQBDG3zfp/zDpveADBki9WnJp2lJPW+U00novTZoVRrsRdrndxZbEP/4GjMb2cg+EsPN9v/lmhxtjubZVkb/oM9Y8ZiNkyTUvIME/FcoUYzSGr/E2F2sJKUqL+iAmoRWpKLm0MJomT8ANnI+Usedfq7OHX21xjHXMJeEKArWq3W7XvFq76163yhBe8iHaCAmwEim3CA5F2WDdgUPv1vDDdY+G2ThKvl3CqemT9oSdNENTlMFH+sblGr9Cj8I5l5kqQFbFEjVYtUEJ/6U+FKXSdp7cDiRN/YYasybTJTUCR7ek11Tn/4xwBIyjBagVSHwHGhVObucGZUZLOmNsltN1PscT2KI2Qknwu4HnX3W9785PLSDmNQQX4PdD3wuDHtxRh6beYc5wNgGjKp0iZMJYLZaVJUCHPfIth3klrSgwhObLeYo7kAwOhzCQW6GVbHbGHhfxXgQjZZNS2VYc5YKKsIj3tMU+XEjp+l3vNej57tLrs2mJmlsh15DUxmIRwm9B1/JuwPfYNDmxeV2P3eOKV7ml7qnKyBRCVPpBL2AT2llF/1AIKFmkKKSuQxjesb9fmN/KhX4rfAAACcxJREFUeNrtXHuIHVcZ/87Z9yPbbPeR7Cbbu0n3vdln0LpqpOkfbdCiayWo1KBUCbG2tT5AREqNRZAaai1VCH0pfaSIRGprVCTGqDFtWUIMbY2BECPWkqaEEtO4XRPi75wzM/fcee3cu3eTvXO/H4fLmW/OnNfv+77znZk7Q8RgMBgMBoPBcLD+kuRUuonpZDo5MZ2cmE5OxaDTJ1lqQdPAX+Sy68W8oypii72/FjW9FKy8uA2teUbU9pOoospWav+ymPiPI4ew97cinrwSpvPyd6B+glpvE4va+rW/EL4ZvvpTToutXxB1Y7RQOpNMnzk18KKsbKfG9ztl1v5M1A0rLYNaoZe+wl0/FBVXUXU3Df9NQgdRrPoa6v9zSOXDr8rGD6p6ZB3BHEf+GdLj0D4Ex4IuGcWvX09Df802cc2PBEwBncHlUcNE3yCH6cRbZ3xDa55S9g153Qj1PB9iastuUHR2fked6vmVymPUntXisP+P8yt3ceg0WP5xYfySr86+34vQxjAwOx+sHDpho+G9FEOn3Ye4EZKaaEftns12tXp1pNeBztmzGU9naEOGHhtYL/x0Xi8qltHk/1Qev6pL3eQtLjhs+6IoJp2hntYcrviKamnkH063IGndKtAn/CLf+KGcaqGn6447+e6fiOG/qzzUNthRUaHKGKOMcbbBPgTHctVHVH+MQxM1zqmG92UvbL9TRNEJVoCJ/yaiM7QhzAAARUe+7w+qZPPmuLV/5TeEMXRziKaVckzQZaLTnnGMAZh8V2vZu9J2Gs61FyPygY5iuVKTUqFcaOe3xfiZODrtPgTHMvqvkFPQIe8U9CCqG+h/lK9K2lCNfwJhiFFcQr3UkvQD4ePMm8ZFd7Y5JmXRaebIT2fi+BBqDhah71WdqgBWl4TdSzgWQ6cx6Bg6TbGEdMY0ZAM6GmwI+tp0k+Jy9fdFcJ5DHdii02kcC9wsLM84W29TkS+dXhp7K2c8pjxc0MQ7C6IT4aLjbC+q6LEo1hlazLhrrKAxYwSXpj928GjXFmXQi0tnMOBOGEQEKzdrmwcvckYkbIfyBdOZ2Zntau1gZChkFDTh2hnakB1zGcAK/T72ayJqUYPW2lZxWel0NiojeqMymKOS+dI5+m/Z/AkB40BVGL+3LEFjqlYqYXBbktcsK0YfVRsV9NOJyMJ8oFnMEMIUTCdS9+MCraB+bNLavpSNA7yEEUXRCXtAHvFRcehMazKRs9kdYi+IPKgNuQn1spoQWNiV6qcx7sGZhe07U0/q8o/5/Ru2K6ElseVV0cAV6id2nFh3Cr8rhOjUSymmc+xN2fI5tXnHMNVt0juzt0l9CZ62bviKTQWa9m7F+DYRPpr4iQo/IOPEdHJiOjktjM7MI4JT6Sb+KyqDwWAwGAwGg8FgMBgMBoPBYDAYDAaDwWAwGAwGg8FgpAdVK6jjHtG3V4yflZNzcuK8HHhJdm4XVR3zX9swRX37CvlXWcEXhsL7r+LQK7Kmp4y5bN0qxk7J1feLxg+QqNYiSXWj1HGvki+fFgnnsWACiksnBtJ+R7n+abHtdjF0RFZ3EQzx2t1iclYOHZbLP+q88gIuR9+Q9eOqZO0Q9f/JsV1YFS6hwB+vIanOKJtDGZQcnJEwQXu6G64jqEj/gZB/APvYDb7/1n6XGH9bjpyQtQPU9aBA/SMnJVTQV75xA/X+Tvjq8dpNM5c1a9UgQaSspeGj1stWp/RrwOfV4Fs/L0CzcWI570G+JEPp9L2YiGrtaXXewN0tCqDTS9A/Ox8sP3ZaynoKbTfNdELH4VGRWflN/dWUvaKiWS1pzntxe/WnRKrJ8Dp5Qb/a3pXUZ0JX1AcsZnOme/UDwlhwPH+hdF59qzB1IrV8VtT26frnQuhc86Ro3iyi2k0t1h1TjktZ3uHsNxqwcDrfyHpYmENDSeYxRTlIhcuCEoD4KDqhEFjABg+FvDBsa0O+dJKMyAfKg8s1T4uodlMLcONlvLnwrLP5k2pGsOqYJUdUquCo5wUx+nrWdoM0YDHGYed9AooS//53DH9wCck/TRDMY+0YPyMXI+Ba2nTOOmqOjPpoxwaqbFHxjvPpxiF1qmePQGRkX4UyQS+HGTTLFbY6yhoy1HSjSEKndyEqxGHTJoEuwTEshE4A0RCGU150IgRdtlFR1f3TkLe3ZSN1PyGwHzWFBw7mforQjRIRXjrfBtylSiLy9MpMnFO/FU3h0+q70FOjJF8lmZdO7FXg8MuLzrZtwvjMyjaCF4V94Bf2AQtD+AMFV7bi3WrooLU/d3Ygvb8RVascudnMQGgIhq9GDKyq2iOwnVdhyI7wafVdCOeMqBhuf91x2bJlodaJoGn4NVledCqbOCAR45CMo9xYD6MEgAC155cCu8MVXxcN78neFYJ2Y2MAB4igH8sbo5QAD5nZKbBdUb50Vv0iDwkIZjAYDAaDwWAwlj7K/cF9ylDWD+7Th/J9cJ9WlOmD+7SiTB/cpxVl+uA+rSjTB/cpRjk+uE8xyvHBfYpRpg/uU0hkAgmjZLg8RfQc0WeIVunf57SEGS1VNGkWnye6qH9v1RJGGnhlMBgMBoORN2qJdhCdJpojeoPoe0SVhVY1RbSvSL26FJYWCbcQHdDDP0+0n2hjSdO5MzBrDyyMg9Kic1tYQ5tLl85ZPYB1Or9R58/q/DGdN++kdOj8cWuiMeCjWqNniEbDCAAy2ljPu8XMC/ZDRBe0NRjM6MOhfDTDnLpOb5cPREhI9/AV3TT6OR19+ev68G7XJ03pw9OlS+fbegD3aq9r4zEt36LzW3T+kQi7mYmgcyZXctSt+X59uIno0zpzT56Gbte5O0KyKdCfjdGXewCj39XyQ6VL54+t4cGSHnT1dLOW7NL5XTp/izUdL+hi0zo/Ox8Ha3OLQW9OEB0hOqkNSObpbO0VIRMh2aclO3UnzWqyP/pygzaig/oUOlbCD39XaJU8Zs3aDi1vttzOKe0Sm6zpWBVGYZDOKW2LhwKnbnYl6/NfO02+K1C4K7CCmDepql1NjSpssFfLnwh4qVJFD9G39JDOuZIjrr+1/Y+PmBg6b9eH9xENBE591ZVsyz+qCp4KSmw6M2F0BnFBy0v+0ZKJBT6s8+O5I3/IdT6XtJElpBPabf5WdlYfYjZvzC3WQnRGb4rO6kzLItC533W20nW2+xYh/F6K2B7waQ+7p6Yt4c0J6DzpHpoV94R1+Tn922RtjbboePKSXrwLcLbxdE4Hrt0wH53poXm7ttEL2lYeshaPetcFzVn3FmLonNY2N+fuFqbcrcIe7cnNqmwcwEH3ErOsjhebThPKHdGtv+b6nnKhMwb73TiWUfKARR7WdG7luVgy+D8dnmUjIDrJMQAAAABJRU5ErkJggg==)

</code></pre>

  </div>

  
</div>


  
  

<div class="section">
  <a name="section-Diagram15"></a>
  <h2 class="section-header">TR34 REBIND To New Host</h2>

  <div class="markdown">
    <p>This section defines the command to use when transferring a TR34 REBIND token as defined in X9 TR34-2012.
Pre-condition: A successful BIND command has completed such that the KeyManagement is bound to the host.</p>
<pre><code class="language-plantuml">
![GeneratedDiagram](data:image/png;base64,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)

</code></pre>
<p>NB: Dotted lines represent commands that are only required if the KeyManagement encryption certificate has not been previously stored by the host.</p>

  </div>

  
</div>


  
  

<div class="section">
  <a name="section-Diagram16"></a>
  <h2 class="section-header">TR34 Force REBIND To New Host </h2>

  <div class="markdown">
    <p>This section defines the command to use when transferring a TR34 Force REBIND token as defined in X9 TR342012.
Pre-condition: A successful BIND command has completed such that the KeyManagement is bound to the host.</p>
<pre><code class="language-plantuml">
![GeneratedDiagram](data:image/png;base64,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)

</code></pre>
<p>NB: Dotted lines represent commands that are only required if the KeyManagement encryption certificate has not been previously stored by the host. Although the random number token is requested as part of this operation, it is discarded by the host and is not actually used in the Force Rebind token.</p>

  </div>

  
</div>


  
  

<div class="section">
  <a name="section-Diagram17"></a>
  <h2 class="section-header">TR34 UNBIND From Host</h2>

  <div class="markdown">
    <p>This section defines the command to use when transferring a TR34 UNBIND token as defined in X9 TR34-2012.
Pre-condition: A successful BIND command has completed such that the KeyManagement is bound to the host.</p>
<pre><code class="language-plantuml">
![GeneratedDiagram](data:image/png;base64,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)

</code></pre>
<p>NB: Dotted lines represent commands that are only required if the KeyManagement encryption certificate has not been previously stored by the host</p>

  </div>

  
</div>


  
  

<div class="section">
  <a name="section-Diagram18"></a>
  <h2 class="section-header">TR34 Force UNBIND From Host</h2>

  <div class="markdown">
    <p>This section defines the command to use when transferring a TR34 Force UNBIND token as defined in X9 TR342012.
Pre-condition: A successful BIND command has completed such that the KeyManagement is bound to the host.</p>
<pre><code class="language-plantuml">
![GeneratedDiagram](data:image/png;base64,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)

</code></pre>
<p>NB: Dotted lines represent commands that are only required if the KeyManagement encryption certificate has not been previously stored by the host. Although the random number token is requested as part of this operation, it is discarded by the host and is not actually used in the Force Unbind token.</p>

  </div>

  
</div>


  
  

<div class="section">
  <a name="section-Diagram19"></a>
  <h2 class="section-header">EMV Support</h2>

  <div class="markdown">
    <p>EMV support by this specification consists in the ability of importing Certification Authority and Chip Card Public Keys, creating the PIN blocks for offline PIN verification and verifying static and dynamic data. This section is used to further explain concepts and functionality that needs further clarification.</p>
<p>The PIN service is able to manage the EMV chip card regarding the card authentication and the RSA local PIN verification. Two steps are mandatory in order to reach these two functions: The loading of the keys which come from the Certification Authorities or from the card itself, and the EMV PIN block management.</p>
<p>The Service Provider is responsible for all key validation during the import process. The application is responsible for management of the key lifetime and expiry after the key is successfully imported</p>
<h3>Keys loading</h3>
<hr>
<p>The final goal of an application is to retrieve the keys located on card to perform the operations of authentication or local PIN check (RSA encrypted). These keys are provided by the card using EMV certificates and can be retrieved using a Public Key provided by a Certification Authority. The application should first load the keys issued by the Certification Authority. At transaction time the application will use these keys to load the keys that the application has retrieved from the chip card.</p>
<h6>Certification Authority keys</h6>
<p>These keys are provided in the following formats:</p>
<pre><code>•	Plain text.
•	Plain Text with EMV 2000 Verification Data (See [Ref. 4] under the reference section for this document).
•	EPI CA (or self signed) format as specified in the Europay International, EPI CA Module Technical – Interface specification Version 1.4 (See [Ref. 5] under the reference section for this document).
•	pkcsV15 encrypted (as used by GIECB in France) (See [Ref. 15] under the reference section for this document).
</code></pre>
<h6>EPI CA format</h6>
<p>The following table corresponds to table 4 of the Europay International, EPI CA Module Technical – Interface specification Version 1.4 (See [Ref. 5]) and identifies the Europay Public Key (self-certified) and the associated data:</p>
<table>
<thead>
<tr>
<th style="text-align:left">Field Name</th>
<th style="text-align:left">Length</th>
<th style="text-align:left">Description</th>
<th style="text-align:left">Format</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">ID of Certificate Subject</td>
<td style="text-align:left">5</td>
<td style="text-align:left">RID for Europay</td>
<td style="text-align:left">Binar</td>
</tr>
<tr>
<td style="text-align:left">Europay public key Index</td>
<td style="text-align:left">1</td>
<td style="text-align:left">Europay public key Index</td>
<td style="text-align:left">Binary</td>
</tr>
<tr>
<td style="text-align:left">Subject public key Algorithm    Indicator</td>
<td style="text-align:left">1</td>
<td style="text-align:left">Algorithm to be used with the Europay public    key Index, set to 0x01</td>
<td style="text-align:left">Binary</td>
</tr>
<tr>
<td style="text-align:left">Subject public key Length</td>
<td style="text-align:left">1</td>
<td style="text-align:left">Length of the Europay public key Modulus (equal to Nca)</td>
<td style="text-align:left">Binary</td>
</tr>
<tr>
<td style="text-align:left">Subject public key Exponent    Length</td>
<td style="text-align:left">1</td>
<td style="text-align:left">Length of the Europay public key Exponent</td>
<td style="text-align:left">Binary</td>
</tr>
<tr>
<td style="text-align:left">Leftmost Digits of Subject public    key</td>
<td style="text-align:left">Nca-37</td>
<td style="text-align:left">Nca-37 most significant bytes of the Europay    public key Modulus</td>
<td style="text-align:left">Binary</td>
</tr>
<tr>
<td style="text-align:left">Subject public key Remainder</td>
<td style="text-align:left">37</td>
<td style="text-align:left">37 least significant bytes of the Europay public    key Modulus</td>
<td style="text-align:left">Binary</td>
</tr>
<tr>
<td style="text-align:left">Subject public key Exponent</td>
<td style="text-align:left">1</td>
<td style="text-align:left">Exponent for Europay public key</td>
<td style="text-align:left">Binary</td>
</tr>
<tr>
<td style="text-align:left">Subject public key Certificate</td>
<td style="text-align:left">Nca</td>
<td style="text-align:left">Output of signature algorithm</td>
<td style="text-align:left">Binary</td>
</tr>
</tbody>
</table>
<p>Table 1</p>
<p>The following table corresponds to table 13 of the Europay International, EPI CA Module Technical – Interface specification Version 1.4 and identifies the Europay Public Key Hash code and associated data.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Field Name</th>
<th style="text-align:left">Length</th>
<th style="text-align:left">Description</th>
<th style="text-align:left">Format</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">ID of Certificate Subject</td>
<td style="text-align:left">5</td>
<td style="text-align:left">RID for Europay</td>
<td style="text-align:left">Binary</td>
</tr>
<tr>
<td style="text-align:left">Europay public key Index</td>
<td style="text-align:left">1</td>
<td style="text-align:left">Europay public key Index</td>
<td style="text-align:left">Binary</td>
</tr>
<tr>
<td style="text-align:left">Subject public key Algorithm    Indicator</td>
<td style="text-align:left">1</td>
<td style="text-align:left">Algorithm to be used with the Europay public    key Index, set to 0x01</td>
<td style="text-align:left">Binary</td>
</tr>
<tr>
<td style="text-align:left">Certification Authority public key Check Sum</td>
<td style="text-align:left">20</td>
<td style="text-align:left">Hash-code for Europay public key</td>
<td style="text-align:left">Binary</td>
</tr>
</tbody>
</table>
<p>Table 2</p>
<p>Table 2 corresponds to table 13 of the Europay International, EPI CA Module Technical – Interface specification Version 1.4 (See [Ref. 5]).</p>
<h5>Chip card keys</h5>
<p>These keys are provided as EMV certificates which come from the chip card in a multiple layer structure (issuer key first, then the ICC keys). Two kinds of algorithm are used with these certificates in order to retrieve the keys: One for the issuer key and the other for the ICC keys (ICC Public Key and ICC PIN encipherment key). The associated data with these algorithms – The PAN (Primary Account Number) and the SDA (Static Data to be Authenticated) - come also from the chip card.</p>
<h3>PIN Block Management</h3>
<hr>
<p>The PIN block management is done through the command GetPinBlock. A new format formEmv has been added to indicate to the PIN service that the PIN block must follow the requirements of the EMVCo, Book2 – Security &amp; Key management Version 4.0 document The parameter customerData is used in this case to transfer to the PIN service the challenge number coming from the chip card. The final encryption must be done using a RSA Public Key. Please note that the application is responsible to send the PIN block to the chip card inside the right APDU.</p>
<h3>SHA-1 Digest</h3>
<hr>
<p>The SHA-1 Digest is a hash algorithm used by EMV in validating ICC static and dynamic data item. The SHA-1 Digest is supported through the digest command. The application will pass the data to be hashed to the Service Provider. Once the encryptor completes the SHA-1 hash code, the Service Provider will return the 20-byte hash value back to the application.</p>

  </div>

  
</div>


  
  

<div class="section">
  <a name="section-Diagram20"></a>
  <h2 class="section-header">ImportKey command Input-Output Parameters</h2>

  <div class="markdown">
    <p>The tables in this section describe the input/output parameters for various scenarios in which the importKey command is used, compared to input/output parameters for older commands that it supercedes.</p>
<h3>Importing a 3DES 16-byte terminal master key using signature-based remote key loading (SRKL):</h3>
<hr>
<p>For this example, the following input data is available:</p>
<pre><code>Name of key to be imported = testKey
Name of the key used to decrypt the encrypted key value = eppCryptKey
Name of the key used to verify the signature = hostKey
Encrypted key value = &lt;encrypted key value&gt;
Signature = &lt;signature generated by the host&gt;
Usage of the key to be imported = key encrypting key
RSA Encipher Algorithm = rsa es oaep
RSA Signature Algorithm = rsa ssa pss
</code></pre>
<p>ImportRSASignedDESKey Input Data</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter Name</th>
<th style="text-align:left">Example Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">key</td>
<td style="text-align:left">testKey</td>
</tr>
<tr>
<td style="text-align:left">decryptKey</td>
<td style="text-align:left">eppCryptKey</td>
</tr>
<tr>
<td style="text-align:left">rsaEnchiperAlgorithm</td>
<td style="text-align:left">oaep</td>
</tr>
<tr>
<td style="text-align:left">value</td>
<td style="text-align:left">&lt;encrypted key value&gt;</td>
</tr>
<tr>
<td style="text-align:left">use</td>
<td style="text-align:left">keyEncKey</td>
</tr>
<tr>
<td style="text-align:left">sigKey</td>
<td style="text-align:left">hostKey</td>
</tr>
<tr>
<td style="text-align:left">rsaSignatureAlgorithm</td>
<td style="text-align:left">pss</td>
</tr>
<tr>
<td style="text-align:left">signature</td>
<td style="text-align:left">&lt;signature generated by the host&gt;</td>
</tr>
</tbody>
</table>
<p>For this example, the following output data is expected:</p>
<pre><code>    Key Check Mode = kcv zero
    Key Check Value = &lt;key check value&gt;
    Key Length = double length key
</code></pre>
<p>ImportRSASignedDESKey Output Data</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter Name</th>
<th style="text-align:left">Example Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">keyLength</td>
<td style="text-align:left">double</td>
</tr>
<tr>
<td style="text-align:left">keyCheckMode</td>
<td style="text-align:left">zero</td>
</tr>
<tr>
<td style="text-align:left">keyCheckValue</td>
<td style="text-align:left">&lt;key check value&gt;</td>
</tr>
</tbody>
</table>
<p>ImportKey Input Data</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter Name</th>
<th style="text-align:left">Example Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">key</td>
<td style="text-align:left">testKey</td>
</tr>
<tr>
<td style="text-align:left">keyAttributes.keyUsage</td>
<td style="text-align:left">‘K0’</td>
</tr>
<tr>
<td style="text-align:left">keyAttributes.algorithm</td>
<td style="text-align:left">‘T’</td>
</tr>
<tr>
<td style="text-align:left">keyAttributes.modeOfUse</td>
<td style="text-align:left">‘D’</td>
</tr>
<tr>
<td style="text-align:left">keyAttributes.cryptoMethod</td>
<td style="text-align:left">0</td>
</tr>
<tr>
<td style="text-align:left">value</td>
<td style="text-align:left">&lt;encrypted key value&gt;</td>
</tr>
<tr>
<td style="text-align:left">decryptKey</td>
<td style="text-align:left">eppCryptKey</td>
</tr>
<tr>
<td style="text-align:left">decryptMethod</td>
<td style="text-align:left">rsaesOaep</td>
</tr>
<tr>
<td style="text-align:left">verificationData</td>
<td style="text-align:left">&lt;signature generated by the host&gt;</td>
</tr>
<tr>
<td style="text-align:left">verifyKey</td>
<td style="text-align:left">hostKey</td>
</tr>
<tr>
<td style="text-align:left">verifyAttributes.keyUsage</td>
<td style="text-align:left">‘S0’</td>
</tr>
<tr>
<td style="text-align:left">verifyAttributes.algorithm</td>
<td style="text-align:left">‘R’</td>
</tr>
<tr>
<td style="text-align:left">verifyAttributes.modeOfUse</td>
<td style="text-align:left">‘V’</td>
</tr>
<tr>
<td style="text-align:left">verifyAttributes.cryptoMethod</td>
<td style="text-align:left">rsassaPss</td>
</tr>
<tr>
<td style="text-align:left">vendorAttributes</td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<p>ImportKey Output Data</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter Name</th>
<th style="text-align:left">Example Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">verifyAttributes.keyUsage</td>
<td style="text-align:left">‘00’</td>
</tr>
<tr>
<td style="text-align:left">verifyAttributes.algorithm</td>
<td style="text-align:left">‘T’</td>
</tr>
<tr>
<td style="text-align:left">verifyAttributes.modeOfUse</td>
<td style="text-align:left">‘V’</td>
</tr>
<tr>
<td style="text-align:left">verifyAttributes.cryptoMethod</td>
<td style="text-align:left">zero</td>
</tr>
<tr>
<td style="text-align:left">verifyData</td>
<td style="text-align:left">&lt;key check value&gt;</td>
</tr>
<tr>
<td style="text-align:left">keyLength</td>
<td style="text-align:left">128</td>
</tr>
</tbody>
</table>
<h3>Importing a 16-byte DES key for pin encryption with a key check value in the input</h3>
<hr>
<p>For this example, the following input data is available:</p>
<pre><code>    Name of key to be imported = testKey
    Name of the key used to decrypt the encrypted key value = masterKey
    Encrypted key value = &lt;encrypted key value&gt;
    Usage of the key to be imported = pin encryption
    Key Check Mode = kcv Zero
    Key Check Value = &lt;key check value&gt;
</code></pre>
<p>ImportKey Input Data</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter Name</th>
<th style="text-align:left">Example Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">key</td>
<td style="text-align:left">testKey</td>
</tr>
<tr>
<td style="text-align:left">keyAttributes.keyUsage</td>
<td style="text-align:left">‘P0’  (Similar to use but a more precise key usage)</td>
</tr>
<tr>
<td style="text-align:left">keyAttributes.algorithm</td>
<td style="text-align:left">‘T’</td>
</tr>
<tr>
<td style="text-align:left">keyAttributes.modeOfUse</td>
<td style="text-align:left">‘E’</td>
</tr>
<tr>
<td style="text-align:left">keyAttributes.cryptoMethod</td>
<td style="text-align:left">0</td>
</tr>
<tr>
<td style="text-align:left">value</td>
<td style="text-align:left">&lt;encrypted key value&gt;</td>
</tr>
<tr>
<td style="text-align:left">decryptKey</td>
<td style="text-align:left">masterKey</td>
</tr>
<tr>
<td style="text-align:left">decryptMethod</td>
<td style="text-align:left">ecb</td>
</tr>
<tr>
<td style="text-align:left">verificationData</td>
<td style="text-align:left">&lt;key check value&gt;</td>
</tr>
<tr>
<td style="text-align:left">verifyKey</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">verifyAttributes.keyUsage</td>
<td style="text-align:left">‘00’</td>
</tr>
<tr>
<td style="text-align:left">verifyAttributes.algorithm</td>
<td style="text-align:left">‘T’</td>
</tr>
<tr>
<td style="text-align:left">verifyAttributes.modeOfUse</td>
<td style="text-align:left">‘V’</td>
</tr>
<tr>
<td style="text-align:left">verifyAttributes.cryptoMethod</td>
<td style="text-align:left">zero</td>
</tr>
<tr>
<td style="text-align:left">vendorAttributes</td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<p>Likewise, the following output data is expected:</p>
<p>ImportKey Output Data</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter Name</th>
<th style="text-align:left">Example Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">verifyAttributes</td>
<td style="text-align:left">null</td>
</tr>
<tr>
<td style="text-align:left">verifyData</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">keyLength</td>
<td style="text-align:left">128</td>
</tr>
</tbody>
</table>
<h3>Importing a 16-byte DES key for macing (MAC Algorithm 3)</h3>
<hr>
<p>For this example, the following input data is available:</p>
<pre><code>Name of key to be imported = testKey
Name of the key used to decrypt the encrypted key value = masterKey
Encrypted key value = &lt;encrypted key value&gt;
Usage of the key to be imported = mac
</code></pre>
<p>ImportKey Input Data</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter Name</th>
<th style="text-align:left">Example Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">key</td>
<td style="text-align:left">testKey</td>
</tr>
<tr>
<td style="text-align:left">keyAttributes.keyUsage</td>
<td style="text-align:left">‘M3’   (Similar to fwUse but a more precise key usage)</td>
</tr>
<tr>
<td style="text-align:left">keyAttributes.algorithm</td>
<td style="text-align:left">‘T’</td>
</tr>
<tr>
<td style="text-align:left">kyAttributes.modeOfUse</td>
<td style="text-align:left">‘G’</td>
</tr>
<tr>
<td style="text-align:left">keyAttributes.cryptoMethod</td>
<td style="text-align:left">0</td>
</tr>
<tr>
<td style="text-align:left">value</td>
<td style="text-align:left">&lt;encrypted key value&gt;</td>
</tr>
<tr>
<td style="text-align:left">decryptKey</td>
<td style="text-align:left">masterKey</td>
</tr>
<tr>
<td style="text-align:left">decryptMethod</td>
<td style="text-align:left">ecb</td>
</tr>
<tr>
<td style="text-align:left">verificationData</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">verifyKey</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">verifyAttributes</td>
<td style="text-align:left">null</td>
</tr>
<tr>
<td style="text-align:left">vendorAttributes</td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<p>ImportKey Output Data</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter Name</th>
<th style="text-align:left">Example Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">verifyAttributes.keyUsage</td>
<td style="text-align:left">‘00’</td>
</tr>
<tr>
<td style="text-align:left">verifyAttributes.algorithm</td>
<td style="text-align:left">‘T’</td>
</tr>
<tr>
<td style="text-align:left">verifyAttributes.modeOfUse</td>
<td style="text-align:left">‘V’</td>
</tr>
<tr>
<td style="text-align:left">verifyAttributes.cryptoMethod</td>
<td style="text-align:left">zero</td>
</tr>
<tr>
<td style="text-align:left">verifyData</td>
<td style="text-align:left">&lt;key check value&gt;</td>
</tr>
<tr>
<td style="text-align:left">keyLength</td>
<td style="text-align:left">128</td>
</tr>
</tbody>
</table>
<h3>Importing a 2048-bit Host RSA public key</h3>
<hr>
<p>For this example, the following input data is available:</p>
<pre><code>     Name of key to be imported = HostKey
     Name of the key used to verify the signature = sigIssuerVendor
     Key value = &lt;key value&gt;
     Signature = &lt;signature generated by the vendor signature issuer&gt;
     Usage of the key to be imported = RSA signature verification
     RSA Signature Algorithm = RSA SSA PSS
</code></pre>
<p>ImportRSAPublicKey Input Data</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter Name</th>
<th style="text-align:left">Example Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">key</td>
<td style="text-align:left">hostKey</td>
</tr>
<tr>
<td style="text-align:left">value</td>
<td style="text-align:left">&lt;key value&gt;</td>
</tr>
<tr>
<td style="text-align:left">use</td>
<td style="text-align:left">rsaPublicVerify</td>
</tr>
<tr>
<td style="text-align:left">sigKey</td>
<td style="text-align:left">sigIssuerVendor</td>
</tr>
<tr>
<td style="text-align:left">rsaSignatureAlgorithm</td>
<td style="text-align:left">rsassaPss</td>
</tr>
<tr>
<td style="text-align:left">signature</td>
<td style="text-align:left">&lt;signature generated by the vendor signature issuer&gt;</td>
</tr>
</tbody>
</table>
<p>For this example, the following output data is expected:</p>
<pre><code>    RSA Key Check Mode = sha256 digest
    Key Check Value = &lt;sha256 digest&gt;
    Key Length = 2048
</code></pre>
<p>ImportRSAPublicKey Output Data</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter Name</th>
<th style="text-align:left">Example Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">rsaKeyCheckMode</td>
<td style="text-align:left">sha256</td>
</tr>
<tr>
<td style="text-align:left">keyCheckValue</td>
<td style="text-align:left">&lt;sha256 digest&gt;</td>
</tr>
</tbody>
</table>
<p>ImportKey Input Data</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter Name</th>
<th style="text-align:left">Example Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">key</td>
<td style="text-align:left">hostKey</td>
</tr>
<tr>
<td style="text-align:left">keyAttributes.keyUsage</td>
<td style="text-align:left">‘S0’</td>
</tr>
<tr>
<td style="text-align:left">keyAttributes.algorithm</td>
<td style="text-align:left">‘R’</td>
</tr>
<tr>
<td style="text-align:left">keyAttributes.modeOfUse</td>
<td style="text-align:left">‘V’</td>
</tr>
<tr>
<td style="text-align:left">keyAttributes.cryptoMethod</td>
<td style="text-align:left">0</td>
</tr>
<tr>
<td style="text-align:left">value</td>
<td style="text-align:left">&lt;key value&gt;</td>
</tr>
<tr>
<td style="text-align:left">decryptKey</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">decryptMethod</td>
<td style="text-align:left">0</td>
</tr>
<tr>
<td style="text-align:left">verificationData</td>
<td style="text-align:left">&lt;signature generated by the vendor signature issuer&gt;</td>
</tr>
<tr>
<td style="text-align:left">verifyKey</td>
<td style="text-align:left">sigIssuerVendor</td>
</tr>
<tr>
<td style="text-align:left">verifyAttributes.KeyUsage</td>
<td style="text-align:left">‘S1’</td>
</tr>
<tr>
<td style="text-align:left">verifyAttributes.Algorithm</td>
<td style="text-align:left">‘R’</td>
</tr>
<tr>
<td style="text-align:left">verifyAttributes.ModeOfUse</td>
<td style="text-align:left">‘V’</td>
</tr>
<tr>
<td style="text-align:left">verifyAttributes.CryptoMethod</td>
<td style="text-align:left">rsassaPss</td>
</tr>
<tr>
<td style="text-align:left">vendorAttributes</td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<p>ImportKey Output Data</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter Name</th>
<th style="text-align:left">Example Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">verifyAttributes.algorithm</td>
<td style="text-align:left">‘R’</td>
</tr>
<tr>
<td style="text-align:left">verifyAttributes.modeOfUse</td>
<td style="text-align:left">‘V’</td>
</tr>
<tr>
<td style="text-align:left">verifyAttributes.CryptoMethod</td>
<td style="text-align:left">sha256</td>
</tr>
<tr>
<td style="text-align:left">verifyData</td>
<td style="text-align:left">&lt;sha256 digest&gt;</td>
</tr>
<tr>
<td style="text-align:left">keyLength</td>
<td style="text-align:left">2048</td>
</tr>
</tbody>
</table>
<h3>Importing a 24-byte DES symmetric data encryption key via TR-31 keyblock</h3>
<hr>
<p>For this example, the following input data is available:</p>
<pre><code>  Name of key to be imported = testKey
  Name of the key block protection key = masterKey
  Key block = &lt;key block&gt;
</code></pre>
<p>ImportKeyBlock Input Data</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter Name</th>
<th style="text-align:left">Example Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Key</td>
<td style="text-align:left">testKey</td>
</tr>
<tr>
<td style="text-align:left">EncKey</td>
<td style="text-align:left">masterKey</td>
</tr>
<tr>
<td style="text-align:left">KeyBlock</td>
<td style="text-align:left">&lt;key block&gt;</td>
</tr>
</tbody>
</table>
<p>For this example, the following output data is expected:</p>
<p>Key Length = triple length (192 bits) DES key</p>
<p>ImportKeyBlock Output Data
None</p>
<p>ImportKey Input Data</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter Name</th>
<th style="text-align:left">Example Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">key</td>
<td style="text-align:left">testKey</td>
</tr>
<tr>
<td style="text-align:left">keyAttributes.keyUsage</td>
<td style="text-align:left">‘D0’</td>
</tr>
<tr>
<td style="text-align:left">keyAttributes.algorithm</td>
<td style="text-align:left">‘T’</td>
</tr>
<tr>
<td style="text-align:left">keyAttributes.modeOfUse</td>
<td style="text-align:left">‘E’</td>
</tr>
<tr>
<td style="text-align:left">keyAttributes.cryptoMethod</td>
<td style="text-align:left">0</td>
</tr>
<tr>
<td style="text-align:left">value</td>
<td style="text-align:left">&lt;key block&gt;</td>
</tr>
<tr>
<td style="text-align:left">decryptKey</td>
<td style="text-align:left">masterKey</td>
</tr>
<tr>
<td style="text-align:left">decryptMethod</td>
<td style="text-align:left">0</td>
</tr>
<tr>
<td style="text-align:left">verificationData</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">verifyKey</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">verifyAttributes</td>
<td style="text-align:left">null</td>
</tr>
<tr>
<td style="text-align:left">vendorAttributes</td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<p>ImportKey Output Data</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter Name</th>
<th style="text-align:left">Example Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">verifyAttributes</td>
<td style="text-align:left">null</td>
</tr>
<tr>
<td style="text-align:left">verifyData</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">keyLength</td>
<td style="text-align:left">192</td>
</tr>
</tbody>
</table>

  </div>

  
</div>


  
  

<div class="section">
  <a name="section-Diagram21"></a>
  <h2 class="section-header">Appendix–D (TR-31 Key Use)</h2>

  <div class="markdown">
    <p>This section contains a mapping of key usages as defined for TR-31 (see ANS X9 TR-31 2010 [Ref. 35]) to the use values defined in this document. The use values are those defined for the use input/output fields of a number of different KeyManagement commands.</p>
<p>Keys imported within an ANS TR-31 key block have a usage encoded into the key block header (represented by BlockHeader in the KeyDetail commands), This usage specified in the key block header may be more specific than the Use values defined in this document. For consistency, the following table defines the corresponding Use value for each TR-31 key usage:</p>
<table>
<thead>
<tr>
<th style="text-align:left">TR-31  Value</th>
<th style="text-align:left">TR-31 Mode(s) of use</th>
<th style="text-align:left">Definition</th>
<th style="text-align:left">use</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">“B0”</td>
<td style="text-align:left">“X”</td>
<td style="text-align:left">BDK Base Derivation Key</td>
<td style="text-align:left">keyDerKey</td>
</tr>
<tr>
<td style="text-align:left">“B1”</td>
<td style="text-align:left">“X”</td>
<td style="text-align:left">DUKPT Initial Key (also known as IPEK)</td>
<td style="text-align:left">keyDerKey**   pinRemote   function*   crypt  macing</td>
</tr>
<tr>
<td style="text-align:left">“C0”</td>
<td style="text-align:left">“C”, “G”, “V”</td>
<td style="text-align:left">CVK Card Verification Key</td>
<td style="text-align:left">NA</td>
</tr>
<tr>
<td style="text-align:left">“D0”</td>
<td style="text-align:left">“B”, “D”, “E”</td>
<td style="text-align:left">Data Encryption using ecb,  cbc, cfb, ofb, ccm or ctr</td>
<td style="text-align:left">crypt</td>
</tr>
<tr>
<td style="text-align:left">“E0”</td>
<td style="text-align:left">“X”</td>
<td style="text-align:left">EMV/chip Issuer Master Key:  Application cryptograms</td>
<td style="text-align:left">rsaPublicVerify</td>
</tr>
<tr>
<td style="text-align:left">“E1”</td>
<td style="text-align:left">“X”</td>
<td style="text-align:left">EMV/chip Issuer Master Key:  Secure Messaging for  Confidentiality</td>
<td style="text-align:left">rsaPublicVerify</td>
</tr>
<tr>
<td style="text-align:left">“E2”</td>
<td style="text-align:left">“X”</td>
<td style="text-align:left">EMV/chip Issuer Master Key:  Secure Messaging for Integrity</td>
<td style="text-align:left">rsaPublicVerify</td>
</tr>
<tr>
<td style="text-align:left">“E3”</td>
<td style="text-align:left">“X”</td>
<td style="text-align:left">EMV/chip Issuer Master Key:  Data Authentication Code</td>
<td style="text-align:left">rsaPublicVerify</td>
</tr>
<tr>
<td style="text-align:left">“E4”</td>
<td style="text-align:left">“X”</td>
<td style="text-align:left">EMV/chip Issuer Master Key:  Dynamic Numbers</td>
<td style="text-align:left">rsaPublicVerify</td>
</tr>
<tr>
<td style="text-align:left">“E5”</td>
<td style="text-align:left">“X”</td>
<td style="text-align:left">EMV/chip Issuer Master Key:  Card Personalization</td>
<td style="text-align:left">rsaPublicVerify</td>
</tr>
<tr>
<td style="text-align:left">“E6”</td>
<td style="text-align:left">“X”</td>
<td style="text-align:left">EMV/chip Issuer Master Key:  Other</td>
<td style="text-align:left">rsaPublicVerify</td>
</tr>
<tr>
<td style="text-align:left">“I0”</td>
<td style="text-align:left">“N”</td>
<td style="text-align:left">Initialization Vector (IV)</td>
<td style="text-align:left">NA</td>
</tr>
<tr>
<td style="text-align:left">“K0”</td>
<td style="text-align:left">“B”, “D”, “E”</td>
<td style="text-align:left">Key Encryption or wrapping</td>
<td style="text-align:left">keyEncKey  svEncKey</td>
</tr>
<tr>
<td style="text-align:left">“K1”</td>
<td style="text-align:left">“B”, “D”, “E”</td>
<td style="text-align:left">TR-31 Key Block Protection Key</td>
<td style="text-align:left">anstr31Master</td>
</tr>
<tr>
<td style="text-align:left">“M0”</td>
<td style="text-align:left">“C”, “G”, “V”</td>
<td style="text-align:left">ISO 16609 MAC algorithm 1  (using TDEA)</td>
<td style="text-align:left">macing</td>
</tr>
<tr>
<td style="text-align:left">“M1”</td>
<td style="text-align:left">“C”, “G”, “V”</td>
<td style="text-align:left">ISO 9797-1 MAC Algorithm 1</td>
<td style="text-align:left">macing</td>
</tr>
<tr>
<td style="text-align:left">“M2”</td>
<td style="text-align:left">“C”, “G”, “V”</td>
<td style="text-align:left">ISO 9797-1 MAC Algorithm 2</td>
<td style="text-align:left">macing</td>
</tr>
<tr>
<td style="text-align:left">“M3”</td>
<td style="text-align:left">“C”, “G”, “V”</td>
<td style="text-align:left">ISO 9797-1 MAC Algorithm 3</td>
<td style="text-align:left">macing</td>
</tr>
<tr>
<td style="text-align:left">“M4”</td>
<td style="text-align:left">“C”, “G”, “V”</td>
<td style="text-align:left">ISO 9797-1 MAC Algorithm 4</td>
<td style="text-align:left">macing</td>
</tr>
<tr>
<td style="text-align:left">“M5”</td>
<td style="text-align:left">“C”, “G”, “V”</td>
<td style="text-align:left">ISO 9797-1 MAC Algorithm 5</td>
<td style="text-align:left">macing</td>
</tr>
<tr>
<td style="text-align:left">“P0”</td>
<td style="text-align:left">“B”, “D”, “E”</td>
<td style="text-align:left">PIN Encryption</td>
<td style="text-align:left">pinRemote  function*</td>
</tr>
<tr>
<td style="text-align:left">“V0”</td>
<td style="text-align:left">“C”, “G”, “V”</td>
<td style="text-align:left">PIN verification, KPV, other algorithm</td>
<td style="text-align:left">pinLocal  function*</td>
</tr>
<tr>
<td style="text-align:left">“V1”</td>
<td style="text-align:left">“C”, “G”, “V”</td>
<td style="text-align:left">PIN verification, IBM 3624</td>
<td style="text-align:left">pinLocal   function*</td>
</tr>
<tr>
<td style="text-align:left">“V2”</td>
<td style="text-align:left">“C”, “G”, “V”</td>
<td style="text-align:left">PIN Verification, VISA PVV</td>
<td style="text-align:left">pinLocal   function*</td>
</tr>
</tbody>
</table>
<p>*Note that function is listed here for backward compatibility, but pinLocal/pinRemote is the more accurate single-use value.</p>
<p>** The Base Derivation Key is used to derive the IPEK. When a dukpt IPEK is loaded, derived future keys are stored and the IPEK deleted. Therefore, while the IPEK is no longer loaded, future keys directly related to it are. pinRemote and optionally function are included as the primary use of an IPEK future key is to create a variant for PIN encryption. If the optional variant data encryption and MAC keys are supported, crypt and macing must be included. To use the optional data or MAC keys in a crypt command, key must be the name of the IPEK and Algorithm must be cryptTriDesCbc cryptTriDesMac. If the optional data encryption key is being used, Mode must be modeEncCrypt. The optional variant response data encryption and MAC keys are not supported.</p>

  </div>

  
</div>


  
  

<div class="section">
  <a name="section-Diagram22"></a>
  <h2 class="section-header">RestrictedKeyEndKey Command Usage</h2>

  <div class="markdown">
    <p>This sample command flow sequence shows how encryption keys can be derived/not derived if the master key has a restricted use. NOTE: In this example the master encryption key is loaded using the secure key entry command instead of using RKL commands. The loading with RKL works in the same way.
Secure key entry based restricted master encryption key loading with RestrictedKeyEncKey flag:</p>
<pre><code class="language-plantuml">
![GeneratedDiagram](data:image/png;base64,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)

</code></pre>
<p>New master keys loaded with restrictedKeyEncKey flag, encrypted with themselves</p>
<pre><code class="language-plantuml">
![GeneratedDiagram](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJoAAABgCAIAAABqlPw/AAAAKXRFWHRjb3B5bGVmdABHZW5lcmF0ZWQgYnkgaHR0cDovL3BsYW50dW1sLmNvbREwORwAAAG1aVRYdHBsYW50dW1sAAEAAAB4nJ1SXWvbMBR9F/Q/XPKUQBps04xMlFKaZk07uwlzmz40paj2bSYmS0YfLgb/+EkOga5Q2PYgc4/POVf3SDo3lmnrKrHVRySs2kNe8JpJC8tVfgfMwGCpjB18ZNfXtz35HduMSbbDCuVeFVbvPT7rVUBhK66rWmnrxVsxHGTMWNQexIPxH+D2Pk3Hp7+whZJZdjbWaKzmhcXS8wtZ+C90UOi2tqOteOwLqPoGEFwNEw4NMI0gFCuxBJS9yFdv3P6EWmPDlTPwifUJ/jFB8j5B8rcJXp0sLFcyhDjU/5fjc/fTIUnXnUy77oDOUZb+wo8IWQt/j/dZCg1qE1rEkySKv06iL8NvmkPGWkhOIJ7ROKLJFC78eQR+RIZX6xSMcrpAKHnI9+L6NOSGNQx+OGl5hRQCGt5lI8gXh5+wkA3XSobHQm422V4ES2XzWtlePBfck7DJ9t02++Gon242iZ6TaXz8Es3IqkbNLJc7yFsfvKLwwGWp3gzEEVnl72zRJCKX+MqcsH73QpXeRGFex8k0ISmTO+cfL/UHTObKD6lbClcX5Df7xggj+fS7WQAACcxJREFUeNrtXHuIHVcZ/87Z9yPbbPeR7Cbbu0n3vdln0LpqpOkfbdCiayWo1KBUCbG2tT5AREqNRZAaai1VCH0pfaSIRGprVCTGqDFtWUIMbY2BECPWkqaEEtO4XRPi75wzM/fcee3cu3eTvXO/H4fLmW/OnNfv+77znZk7Q8RgMBgMBoPBcLD+kuRUuonpZDo5MZ2cmE5OxaDTJ1lqQdPAX+Sy68W8oypii72/FjW9FKy8uA2teUbU9pOoospWav+ymPiPI4ew97cinrwSpvPyd6B+glpvE4va+rW/EL4ZvvpTToutXxB1Y7RQOpNMnzk18KKsbKfG9ztl1v5M1A0rLYNaoZe+wl0/FBVXUXU3Df9NQgdRrPoa6v9zSOXDr8rGD6p6ZB3BHEf+GdLj0D4Ex4IuGcWvX09Df802cc2PBEwBncHlUcNE3yCH6cRbZ3xDa55S9g153Qj1PB9iastuUHR2fked6vmVymPUntXisP+P8yt3ceg0WP5xYfySr86+34vQxjAwOx+sHDpho+G9FEOn3Ye4EZKaaEftns12tXp1pNeBztmzGU9naEOGHhtYL/x0Xi8qltHk/1Qev6pL3eQtLjhs+6IoJp2hntYcrviKamnkH063IGndKtAn/CLf+KGcaqGn6447+e6fiOG/qzzUNthRUaHKGKOMcbbBPgTHctVHVH+MQxM1zqmG92UvbL9TRNEJVoCJ/yaiM7QhzAAARUe+7w+qZPPmuLV/5TeEMXRziKaVckzQZaLTnnGMAZh8V2vZu9J2Gs61FyPygY5iuVKTUqFcaOe3xfiZODrtPgTHMvqvkFPQIe8U9CCqG+h/lK9K2lCNfwJhiFFcQr3UkvQD4ePMm8ZFd7Y5JmXRaebIT2fi+BBqDhah71WdqgBWl4TdSzgWQ6cx6Bg6TbGEdMY0ZAM6GmwI+tp0k+Jy9fdFcJ5DHdii02kcC9wsLM84W29TkS+dXhp7K2c8pjxc0MQ7C6IT4aLjbC+q6LEo1hlazLhrrKAxYwSXpj928GjXFmXQi0tnMOBOGEQEKzdrmwcvckYkbIfyBdOZ2Zntau1gZChkFDTh2hnakB1zGcAK/T72ayJqUYPW2lZxWel0NiojeqMymKOS+dI5+m/Z/AkB40BVGL+3LEFjqlYqYXBbktcsK0YfVRsV9NOJyMJ8oFnMEMIUTCdS9+MCraB+bNLavpSNA7yEEUXRCXtAHvFRcehMazKRs9kdYi+IPKgNuQn1spoQWNiV6qcx7sGZhe07U0/q8o/5/Ru2K6ElseVV0cAV6id2nFh3Cr8rhOjUSymmc+xN2fI5tXnHMNVt0juzt0l9CZ62bviKTQWa9m7F+DYRPpr4iQo/IOPEdHJiOjktjM7MI4JT6Sb+KyqDwWAwGAwGg8FgMBgMBoPBYDAYDAaDwWAwGAwGg8FgpAdVK6jjHtG3V4yflZNzcuK8HHhJdm4XVR3zX9swRX37CvlXWcEXhsL7r+LQK7Kmp4y5bN0qxk7J1feLxg+QqNYiSXWj1HGvki+fFgnnsWACiksnBtJ+R7n+abHtdjF0RFZ3EQzx2t1iclYOHZbLP+q88gIuR9+Q9eOqZO0Q9f/JsV1YFS6hwB+vIanOKJtDGZQcnJEwQXu6G64jqEj/gZB/APvYDb7/1n6XGH9bjpyQtQPU9aBA/SMnJVTQV75xA/X+Tvjq8dpNM5c1a9UgQaSspeGj1stWp/RrwOfV4Fs/L0CzcWI570G+JEPp9L2YiGrtaXXewN0tCqDTS9A/Ox8sP3ZaynoKbTfNdELH4VGRWflN/dWUvaKiWS1pzntxe/WnRKrJ8Dp5Qb/a3pXUZ0JX1AcsZnOme/UDwlhwPH+hdF59qzB1IrV8VtT26frnQuhc86Ro3iyi2k0t1h1TjktZ3uHsNxqwcDrfyHpYmENDSeYxRTlIhcuCEoD4KDqhEFjABg+FvDBsa0O+dJKMyAfKg8s1T4uodlMLcONlvLnwrLP5k2pGsOqYJUdUquCo5wUx+nrWdoM0YDHGYed9AooS//53DH9wCck/TRDMY+0YPyMXI+Ba2nTOOmqOjPpoxwaqbFHxjvPpxiF1qmePQGRkX4UyQS+HGTTLFbY6yhoy1HSjSEKndyEqxGHTJoEuwTEshE4A0RCGU150IgRdtlFR1f3TkLe3ZSN1PyGwHzWFBw7mforQjRIRXjrfBtylSiLy9MpMnFO/FU3h0+q70FOjJF8lmZdO7FXg8MuLzrZtwvjMyjaCF4V94Bf2AQtD+AMFV7bi3WrooLU/d3Ygvb8RVascudnMQGgIhq9GDKyq2iOwnVdhyI7wafVdCOeMqBhuf91x2bJlodaJoGn4NVledCqbOCAR45CMo9xYD6MEgAC155cCu8MVXxcN78neFYJ2Y2MAB4igH8sbo5QAD5nZKbBdUb50Vv0iDwkIZjAYDAaDwWAwlj7K/cF9ylDWD+7Th/J9cJ9WlOmD+7SiTB/cpxVl+uA+rSjTB/cpRjk+uE8xyvHBfYpRpg/uU0hkAgmjZLg8RfQc0WeIVunf57SEGS1VNGkWnye6qH9v1RJGGnhlMBgMBoORN2qJdhCdJpojeoPoe0SVhVY1RbSvSL26FJYWCbcQHdDDP0+0n2hjSdO5MzBrDyyMg9Kic1tYQ5tLl85ZPYB1Or9R58/q/DGdN++kdOj8cWuiMeCjWqNniEbDCAAy2ljPu8XMC/ZDRBe0NRjM6MOhfDTDnLpOb5cPREhI9/AV3TT6OR19+ev68G7XJ03pw9OlS+fbegD3aq9r4zEt36LzW3T+kQi7mYmgcyZXctSt+X59uIno0zpzT56Gbte5O0KyKdCfjdGXewCj39XyQ6VL54+t4cGSHnT1dLOW7NL5XTp/izUdL+hi0zo/Ox8Ha3OLQW9OEB0hOqkNSObpbO0VIRMh2aclO3UnzWqyP/pygzaig/oUOlbCD39XaJU8Zs3aDi1vttzOKe0Sm6zpWBVGYZDOKW2LhwKnbnYl6/NfO02+K1C4K7CCmDepql1NjSpssFfLnwh4qVJFD9G39JDOuZIjrr+1/Y+PmBg6b9eH9xENBE591ZVsyz+qCp4KSmw6M2F0BnFBy0v+0ZKJBT6s8+O5I3/IdT6XtJElpBPabf5WdlYfYjZvzC3WQnRGb4rO6kzLItC533W20nW2+xYh/F6K2B7waQ+7p6Yt4c0J6DzpHpoV94R1+Tn922RtjbboePKSXrwLcLbxdE4Hrt0wH53poXm7ttEL2lYeshaPetcFzVn3FmLonNY2N+fuFqbcrcIe7cnNqmwcwEH3ErOsjhebThPKHdGtv+b6nnKhMwb73TiWUfKARR7WdG7luVgy+D8dnmUjIDrJMQAAAABJRU5ErkJggg==)

</code></pre>
<p>Loading derived keys:</p>
<pre><code class="language-plantuml">
![GeneratedDiagram](data:image/png;base64,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)

</code></pre>
<p>Usage sample for derived keys</p>
<pre><code class="language-plantuml">![GeneratedDiagram](data:image/png;base64,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)

</code></pre>
<p>Master key restriction disallows loading of derived keys with different usage:</p>
<pre><code class="language-plantuml">![GeneratedDiagram](data:image/png;base64,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)

</code></pre>

  </div>

  
</div>


  

</div>




<h1>Commands</h1>


  

<a name="command-KeyManagement.GetStatus"></a>
<div class="command">
  <h2 class="section-header">
    KeyManagement.GetStatus
    
  </h2>

  
    <h3>Description</h3>
    <p>This command returns several kinds of status information</p>

  

  <h3>Command Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  











  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">timeout </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell">0</td>
  <td class="table__body__cell"><p>Timeout in milliseconds for the command to complete. If set to zero, the command will not timeout but can be cancelled.</p>
</td>
</tr class="table__body__row">

































    
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "timeout": "5000"
  }
}</code></pre>



  <h3>Completion Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  











  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">common <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Status information common to all XFS4IoT services.</p>
</td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">common.device </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the state of the device.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">common.extra </td>
  <td class="table__body__cell">
    array
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies a list of vendor-specific, or any other extended, information.
The information is returned as a series of &quot;key=value&quot; strings so that it is easily extendable by Service Providers.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">common.guideLights </td>
  <td class="table__body__cell">
    array
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the state of the guidance light indicators. A number of guidance light types are defined below. Vendor specific guidance lights are defined starting from the end of the array.</p>
</td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">common.guideLights.flashRate </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Indicates the current flash rate of the guidelight.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">common.guideLights.color </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Indicates the current color of the guidelight.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">common.guideLights.direction </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Indicates the current direction of the guidelght.</p>
</td>
</tr class="table__body__row">























  







<tr class="table__body__row">
  <td class="table__body__cell">common.devicePosition </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Position of the device.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">common.powerSaveRecoveryTime </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the actual number of seconds required by the device to resume its normal operational state from the current power saving mode. This value is zero if either the power saving mode has not been activated or no power save control is supported</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">common.antiFraudModule </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the state of the anti-fraud module</p>
</td>
</tr class="table__body__row">























  











  
  







<tr class="table__body__row">
  <td class="table__body__cell">cardReader. </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">cardReader.timeout </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell">0</td>
  <td class="table__body__cell"><p>Timeout in milliseconds for the command to complete. If set to zero, the command will not timeout but can be cancelled.</p>
</td>
</tr class="table__body__row">























  
  







<tr class="table__body__row">
  <td class="table__body__cell">cardReader. </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">cardReader.media </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the media state of the device as one of the following values. This status is independent of any media in the parking stations.</p>
<p><strong>notSupported</strong>&lt;br&gt;
Capability to report media position is not supported by the device (e.g. a typical swipe reader or contactless chip card reader).</p>
<p><strong>unknown</strong>&lt;br&gt;
The media state cannot be determined with the device in its current state (e.g. the value of device is noDevice, powerOff, offline or hwerrror.</p>
<p><strong>present</strong>&lt;br&gt;
Media is present in the device, not in the entering position and not jammed. A card in a parking station is not considered to be present. On the latched dip device, this indicates that the card is present in the device and the card is unlatched.</p>
<p><strong>notPresent</strong>&lt;br&gt;
Media is not present in the device and not at the entering position.</p>
<p><strong>jammed</strong>&lt;br&gt;
Media is jammed in the device; operator intervention is required.</p>
<p><strong>entering</strong>&lt;br&gt;
Media is at the entry/exit slot of a motorized device.</p>
<p><strong>latched</strong>&lt;br&gt;
Media is present and latched in a latched dip card unit. This means the card can be used for chip card dialog.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">cardReader.retainBin </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the state of the retain bin.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">cardReader.security </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the state of the security unit as one of the following:</p>
<p><strong>notSupported</strong>&lt;br&gt;
No security module is available.</p>
<p><strong>notReady</strong>&lt;br&gt;
The security module is not ready to process cards or is inoperable.</p>
<p><strong>notPresent</strong>&lt;br&gt;
The security module is open and ready to process cards.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">cardReader.numberCards </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The number of cards retained; applicable only to motor driven card units, for non-motorized card units this value is zero. This value is persistent it is reset to zero by the resetCount command.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">cardReader.chipPower </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the state of the chip controlled by this service. Depending on the value of capabilities response, this can either be the chip on the currently inserted user card or the chip on a permanently connected chip card. The state of the chip is one of the following:
<strong>notSupported</strong>&lt;br&gt;
Capability to report the state of the chip is not supported by the ID card unit device. This value is returned for contactless chip card readers.</p>
<p><strong>unknown</strong>&lt;br&gt;
The state of the chip cannot be determined with the device in its current state.</p>
<p><strong>online</strong>&lt;br&gt;
The chip is present, powered on and online (i.e. operational, not busy processing a request and not in an error state).</p>
<p><strong>busy</strong>&lt;br&gt;
The chip is present, powered on, and busy (unable to process an Execute command at this time).</p>
<p><strong>poweredOff</strong>&lt;br&gt;
The chip is present, but powered off (i.e. not contacted).</p>
<p><strong>noDevice</strong>&lt;br&gt;
A card is currently present in the device, but has no chip.</p>
<p><strong>hwerror</strong>&lt;br&gt;
The chip is present, but inoperable due to a hardware error that prevents it from being used (e.g. MUTE, if there is an unresponsive card in the reader).</p>
<p><strong>noCard</strong>&lt;br&gt;
There is no card in the device.</p>
</td>
</tr class="table__body__row">


































  







<tr class="table__body__row">
  <td class="table__body__cell">cashAcceptor </td>
  <td class="table__body__cell">
    object
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Status information for XFS4IoT services implementing the CashAcceptor interface. This will be omitted if the CashAcceptor interface is not supported.</p>
</td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">cashAcceptor.intermediateStacker </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Supplies the state of the intermediate stacker. Following values are possible:</p>
<p>&quot;empty&quot;: The intermediate stacker is empty.</p>
<p>&quot;notEmpty&quot;: The intermediate stacker is not empty.</p>
<p>&quot;full&quot;: The intermediate stacker is full. This may also be reported during a cash-in transaction where a limit specified by CashAcceptor.SetCashInLimit has been reached.</p>
<p>&quot;unknown&quot;: Due to a hardware error or other condition, the state of the intermediate stacker cannot be determined.</p>
<p>&quot;notSupported&quot;: The physical device has no intermediate stacker.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">cashAcceptor.stackerItems </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>This field informs the application whether items on the intermediate stacker have been in customer access. Following values are possible:</p>
<p>&quot;customerAccess&quot;: Items on the intermediate stacker have been in customer access. If the device is a cash recycler then the items on the intermediate stacker may be there as a result of a previous cash-out operation.</p>
<p>&quot;noCustomerAccess&quot;: Items on the intermediate stacker have not been in customer access.</p>
<p>&quot;accessUnknown&quot;: It is not known if the items on the intermediate stacker have been in customer access.</p>
<p>&quot;noItems&quot;: There are no items on the intermediate stacker or the physical device has no intermediate stacker.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">cashAcceptor.banknoteReader </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Supplies the state of the banknote reader. Following values are possible:</p>
<p>&quot;ok&quot;: The banknote reader is in a good state.</p>
<p>&quot;inoperable&quot;: The banknote reader is inoperable.</p>
<p>&quot;unknown&quot;: Due to a hardware error or other condition, the state of the banknote reader cannot be determined.</p>
<p>&quot;notSupported&quot;: The physical device has no banknote reader.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">cashAcceptor.dropBox </td>
  <td class="table__body__cell">
    boolean
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The drop box is an area within the CashAcceptor where items which have caused a problem during an operation are stored.
This field specifies the status of the drop box. TRUE means that some items are stored in the drop box due to a cash-in
transaction which caused a problem. FALSE indicates that the drop box is empty.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">cashAcceptor.positions </td>
  <td class="table__body__cell">
    array
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Array of structures for each position from which items can be accepted.</p>
</td>
</tr class="table__body__row">













  
    







<tr class="table__body__row">
  <td class="table__body__cell">cashAcceptor.positions.position </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Supplies the input or output position as one of the following values:</p>
<p>&quot;inLeft&quot;: Left input position.</p>
<p>&quot;inRight&quot;: Right input position.</p>
<p>&quot;inCenter&quot;: Center input position.</p>
<p>&quot;inTop&quot;: Top input position.</p>
<p>&quot;inBottom&quot;: Bottom input position.</p>
<p>&quot;inFront&quot;: Front input position.</p>
<p>&quot;inRear&quot;: Rear input position.</p>
<p>&quot;outLeft&quot;: Left output position.</p>
<p>&quot;outRight&quot;: Right output position.</p>
<p>&quot;outCenter&quot;: Center output position.</p>
<p>&quot;outTop&quot;: Top output position.</p>
<p>&quot;outBottom&quot;: Bottom output position.</p>
<p>&quot;outFront&quot;: Front output position.</p>
<p>&quot;outRear&quot;: Rear output position.</p>
</td>
</tr class="table__body__row">















  
    







<tr class="table__body__row">
  <td class="table__body__cell">cashAcceptor.positions.shutter </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Supplies the state of the shutter. Following values are possible:</p>
<p>&quot;closed&quot;: The shutter is operational and is closed.</p>
<p>&quot;open&quot;: The shutter is operational and is open.</p>
<p>&quot;jammed&quot;: The shutter is jammed and is not operational. The field jammedShutterPosition provides the positional state of the shutter.</p>
<p>&quot;unknown&quot;: Due to a hardware error or other condition, the state of the shutter cannot be determined.</p>
<p>&quot;notSupported&quot;: The physical device has no shutter or shutter state reporting is not supported.</p>
</td>
</tr class="table__body__row">















  
    







<tr class="table__body__row">
  <td class="table__body__cell">cashAcceptor.positions.positionStatus </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The status of the input or output position.
Following values are possible:</p>
<p>&quot;empty&quot;: The output position is empty.</p>
<p>&quot;notEmpty&quot;: The output position is not empty.</p>
<p>&quot;unknown&quot;: Due to a hardware error or other condition, the state of the output position cannot be determined.</p>
<p>&quot;notSupported&quot;: The device is not capable of reporting whether or not items are at the output position.</p>
</td>
</tr class="table__body__row">















  
    







<tr class="table__body__row">
  <td class="table__body__cell">cashAcceptor.positions.transport </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Supplies the state of the transport mechanism. The transport is defined as any area leading to or from the position.
Following values are possible:</p>
<p>&quot;ok&quot;: The transport is in a good state.</p>
<p>&quot;inoperative&quot;: The transport is inoperative due to a hardware failure or media jam.</p>
<p>&quot;unknown&quot;:Due to a hardware error or other condition the state of the transport cannot be determined.</p>
<p>&quot;notSupported&quot;: The physical device has no transport or transport state reporting is not supported.</p>
</td>
</tr class="table__body__row">















  
    







<tr class="table__body__row">
  <td class="table__body__cell">cashAcceptor.positions.transportStatus </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Returns information regarding items which may be on the transport. If the device is a recycler
device it is possible that the transport will not be empty due to a previous dispense operation.
Following values are possible:</p>
<p>&quot;empty&quot;: The transport is empty.</p>
<p>&quot;notEmpty&quot;: The transport is not empty.</p>
<p>&quot;notEmptyCustomer&quot;: Items which a customer has had access to are on the transport.</p>
<p>&quot;notEmptyUnkown&quot;: Due to a hardware error or other condition it is not known whether there are items on the transport.</p>
<p>&quot;notSupported&quot;: The device is not capable of reporting whether items are on the transport.</p>
</td>
</tr class="table__body__row">















  
    







<tr class="table__body__row">
  <td class="table__body__cell">cashAcceptor.positions.jammedShutterPosition </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Returns information regarding the position of the jammed shutter.
Following values are possible:</p>
<p>&quot;notSupported&quot;: The physical device has no shutter or the reporting of the position of a jammed shutter is not supported.</p>
<p>&quot;notJammed&quot;: The shutter is not jammed.</p>
<p>&quot;open&quot;: The shutter is jammed, but fully open.</p>
<p>&quot;partiallyOpen&quot;: The shutter is jammed, but partially open.</p>
<p>&quot;closed&quot;: The shutter is jammed, but fully closed.</p>
<p>&quot;unknown&quot;: The position of the shutter is unknown.</p>
</td>
</tr class="table__body__row">















  




  







<tr class="table__body__row">
  <td class="table__body__cell">cashAcceptor.mixedMode </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Reports if Mixed Media mode is active. Following values are possible:</p>
<p>&quot;notActive&quot;: Mixed Media transactions are not supported by the device or Mixed Media mode is not activated.</p>
<p>&quot;active&quot;: Mixed Media mode using the CashAcceptor and ItemProcessor interfaces is activated.</p>
</td>
</tr class="table__body__row">























  







<tr class="table__body__row">
  <td class="table__body__cell">cashDispenser </td>
  <td class="table__body__cell">
    object
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Status information for XFS4IoT services implementing the CashDispenser interface. This will be omitted if the CashDispenser interface is not supported.</p>
</td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">cashDispenser.intermediateStacker </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Supplies the state of the intermediate stacker. These bills are typically present on the intermediate
stacker as a result of a retract operation or because a dispense has been performed without a subsequent present.
Following values are possible:</p>
<p>&quot;empty&quot;: The intermediate stacker is empty.</p>
<p>&quot;notEmpty&quot;: The intermediate stacker is not empty. The items have not been in customer access.</p>
<p>&quot;notEmptyCustomer&quot;: The intermediate stacker is not empty. The items have been in customer access. If the device is
a recycler then the items on the intermediate stacker may be there as a result of a previous cash-in operation.</p>
<p>&quot;notEmptyUnknown&quot;: The intermediate stacker is not empty. It is not known if the items have been in customer access.</p>
<p>&quot;unknown&quot;: Due to a hardware error or other condition, the state of the intermediate stacker cannot be determined.</p>
<p>&quot;notSupported&quot;: The physical device has no intermediate stacker.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">cashDispenser.positions </td>
  <td class="table__body__cell">
    array
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Array of structures for each position to which items can be dispensed or presented.</p>
</td>
</tr class="table__body__row">













  
    







<tr class="table__body__row">
  <td class="table__body__cell">cashDispenser.positions.position </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Supplies the output position as one of the following values:</p>
<p>&quot;left&quot;: Left output position.</p>
<p>&quot;right&quot;: Right output position.</p>
<p>&quot;center&quot;: Center output position.</p>
<p>&quot;top&quot;: Top output position.</p>
<p>&quot;bottom&quot;: Bottom output position.</p>
<p>&quot;front&quot;: Front output position.</p>
<p>&quot;rear&quot;: Rear output position.</p>
</td>
</tr class="table__body__row">















  
    







<tr class="table__body__row">
  <td class="table__body__cell">cashDispenser.positions.shutter </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Supplies the state of the shutter. Following values are possible:</p>
<p>&quot;closed&quot;: The shutter is operational and is closed.</p>
<p>&quot;open&quot;: The shutter is operational and is open.</p>
<p>&quot;jammed&quot;: The shutter is jammed and is not operational. The field jammedShutterPosition provides the positional state of the shutter.</p>
<p>&quot;unknown&quot;: Due to a hardware error or other condition, the state of the shutter cannot be determined.</p>
<p>&quot;notSupported&quot;: The physical device has no shutter or shutter state reporting is not supported.</p>
</td>
</tr class="table__body__row">















  
    







<tr class="table__body__row">
  <td class="table__body__cell">cashDispenser.positions.positionStatus </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Returns information regarding items which may be at the output position.
If the device is a recycler it is possible that the output position will not be empty due to a previous cash-in operation.
Following values are possible:</p>
<p>&quot;empty&quot;: The output position is empty.</p>
<p>&quot;notEmpty&quot;: The output position is not empty.</p>
<p>&quot;unknown&quot;: Due to a hardware error or other condition, the state of the output position cannot be determined.</p>
<p>&quot;notSupported&quot;: The device is not capable of reporting whether or not items are at the output position.</p>
</td>
</tr class="table__body__row">















  
    







<tr class="table__body__row">
  <td class="table__body__cell">cashDispenser.positions.transport </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Supplies the state of the transport mechanism. The transport is defined as any area leading to or from the position.
Following values are possible:</p>
<p>&quot;ok&quot;: The transport is in a good state.</p>
<p>&quot;inoperative&quot;: The transport is inoperative due to a hardware failure or media jam.</p>
<p>&quot;unknown&quot;:Due to a hardware error or other condition the state of the transport cannot be determined.</p>
<p>&quot;notSupported&quot;: The physical device has no transport or transport state reporting is not supported.</p>
</td>
</tr class="table__body__row">















  
    







<tr class="table__body__row">
  <td class="table__body__cell">cashDispenser.positions.transportStatus </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Returns information regarding items which may be on the transport. If the device is a recycler
device it is possible that the transport will not be empty due to a previous cash-in operation.
Following values are possible:</p>
<p>&quot;empty&quot;: The transport is empty.</p>
<p>&quot;notEmpty&quot;: The transport is not empty.</p>
<p>&quot;notEmptyCustomer&quot;: Items which a customer has had access to are on the transport.</p>
<p>&quot;notEmptyUnkown&quot;: Due to a hardware error or other condition it is not known whether there are items on the transport.</p>
<p>&quot;notSupported&quot;: The device is not capable of reporting whether items are on the transport.</p>
</td>
</tr class="table__body__row">















  
    







<tr class="table__body__row">
  <td class="table__body__cell">cashDispenser.positions.jammedShutterPosition </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Returns information regarding the position of the jammed shutter.
Following values are possible:</p>
<p>&quot;notSupported&quot;: The physical device has no shutter or the reporting of the position of a jammed shutter is not supported.</p>
<p>&quot;notJammed&quot;: The shutter is not jammed.</p>
<p>&quot;open&quot;: The shutter is jammed, but fully open.</p>
<p>&quot;partiallyOpen&quot;: The shutter is jammed, but partially open.</p>
<p>&quot;closed&quot;: The shutter is jammed, but fully closed.</p>
<p>&quot;unknown&quot;: The position of the shutter is unknown.</p>
</td>
</tr class="table__body__row">















  











  







<tr class="table__body__row">
  <td class="table__body__cell">cashManagement </td>
  <td class="table__body__cell">
    object
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Status information for XFS4IoT services implementing the CashManagement interface. This will be omitted if the CashManagement interface is not supported.</p>
</td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">cashManagement.safeDoor </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Supplies the state of the safe door. Following values are possible:</p>
<p>&quot;doorNotSupported&quot;: Physical device has no safe door or safe door state reporting is not supported.</p>
<p>&quot;doorOpen&quot;: Safe door is open.</p>
<p>&quot;doorClosed&quot;: Safe door is closed.</p>
<p>&quot;doorUnknown&quot;: Due to a hardware error or other condition, the state of the safe door cannot be determined.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">cashManagement.dispenser </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Supplies the state of the logical cash units for dispensing. Following values are possible:</p>
<p>&quot;ok&quot;: All cash units present are in a good state.</p>
<p>&quot;cashUnitState&quot;: One or more of the cash units is in a low, empty, inoperative or manipulated condition.
Items can still be dispensed from at least one of the cash units.</p>
<p>&quot;cashUnitStop&quot;: Due to a cash unit failure dispensing is impossible. No items can be dispensed because
all of the cash units are in an empty, inoperative or manipulated condition. This state may also occur
when a reject/retract cash unit is full or no reject/retract cash unit is present, or when an application
lock is set on every cash unit which can be locked.</p>
<p>&quot;cashUnitUnknown&quot;: Due to a hardware error or other condition, the state of the cash units cannot be determined.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">cashManagement.acceptor </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Supplies the state of the cash units for accepting cash. Following values are possible:</p>
<p>&quot;ok&quot;: All cash units present are in a good state.</p>
<p>&quot;cashUnitState&quot;: One or more of the cash units is in a high, full, inoperative or manipulated condition. Items can still be accepted into at least one of the cash units.</p>
<p>&quot;cashUnitStop&quot;: Due to a cash unit failure accepting is impossible. No items can be accepted because all of the cash units are in a full, inoperative or manipulated condition.
This state may also occur when a retract cash unit is full or no retract cash unit is present,
or when an application lock is set on every cash unit, or when Level 2/3 notes are to be automatically retained within cash units,
but all of the designated cash units for storing them are full or inoperative.</p>
<p>&quot;cashUnitUnknown&quot;: Due to a hardware error or other condition, the state of the cash units cannot be determined.</p>
</td>
</tr class="table__body__row">























  







<tr class="table__body__row">
  <td class="table__body__cell">pinPad </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Status information for XFS4IoT services implementing the PinPad interface. This will be omitted if the PinPad interface is not supported.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">crypto </td>
  <td class="table__body__cell">
    object
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Status information for XFS4IoT services implementing the Crypto interface. This will be omitted if the Crypto interface is not supported.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">keyManagement </td>
  <td class="table__body__cell">
    object
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Status information for XFS4IoT services implementing the KeyManagement interface. This will be omitted if the KeyManagement interface is not supported.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">keyboard </td>
  <td class="table__body__cell">
    object
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Status information for XFS4IoT services implementing the Keyboard interface. This will be omitted if the Keyboard interface is not supported.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">textTerminal </td>
  <td class="table__body__cell">
    object
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Status information for XFS4IoT services implementing the TextTerminal interface. This will be omitted if the TextTerminal interface is not supported.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">printer </td>
  <td class="table__body__cell">
    object
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Status information for XFS4IoT services implementing the Printer interface. This will be omitted if the Printer interface is not supported.</p>
</td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">printer.media </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the state of the print media (i.e. receipt, statement, passbook, etc.) as one of the following values. This field does not apply to journal printers:</p>
<p><strong>notSupported</strong>&lt;br&gt;
The capability to report the state of the print media is not supported by the device.</p>
<p><strong>unknown</strong>&lt;br&gt;
The state of the print media cannot be determined with the device in its current state.</p>
<p><strong>present</strong>&lt;br&gt;
Media is in the print position, on the stacker or on the transport (i.e. a passbook in the parking station
is not considered to be present). On devices with continuous paper supplies, this value is set when paper
is under the print head. On devices with no supply or individual sheet supplies, this value is set when
paper/media is successfully inserted/loaded.</p>
<p><strong>notPresent</strong>&lt;br&gt;
Media is not in the print position or on the stacker.</p>
<p><strong>jammed</strong>&lt;br&gt;
Media is jammed in the device.</p>
<p><strong>entering</strong>&lt;br&gt;
Media is at the entry/exit slot of the device.</p>
<p><strong>retracted</strong>&lt;br&gt;
Media was retracted during the last command which controlled media.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">printer.paper </td>
  <td class="table__body__cell">
    object
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the state of paper supplies as one of the following values:</p>
<p><strong>notSupported</strong>&lt;br&gt;
Capability not supported by the device.</p>
<p><strong>unknown</strong>&lt;br&gt;
Status cannot be determined with device in its current state.</p>
<p><strong>full</strong>&lt;br&gt;
The paper supply is full.</p>
<p><strong>low</strong>&lt;br&gt;
The paper supply is low.</p>
<p><strong>out</strong>&lt;br&gt;
The paper supply is empty.</p>
<p><strong>jammed</strong>&lt;br&gt;
The paper supply is jammed.</p>
</td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">printer.paper.upper </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The state of the upper paper supply.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">printer.paper.lower </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The state of the lower paper supply.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">printer.paper.external </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The state of the external paper supply.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">printer.paper.aux </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The state of the auxiliary paper supply.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">printer.paper.aux2 </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The state of the second auxiliary paper supply.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">printer.paper.park </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The state of the parking station paper supply.</p>
</td>
</tr class="table__body__row">























  







<tr class="table__body__row">
  <td class="table__body__cell">printer.toner </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the state of the toner or ink supply or the state of the ribbon as one of the following:</p>
<p><strong>notSupported</strong>&lt;br&gt;
Capability not supported by device.</p>
<p><strong>unknown</strong>&lt;br&gt;
Status of toner or ink supply or the ribbon cannot be determined with device in its current state.</p>
<p><strong>full</strong>&lt;br&gt;
The toner or ink supply is full or the ribbon is OK.</p>
<p><strong>low</strong>&lt;br&gt;
The toner or ink supply is low or the print contrast with a ribbon is weak.</p>
<p><strong>out</strong>&lt;br&gt;
The toner or ink supply is empty or the print contrast with a ribbon is not sufficient any more.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">printer.ink </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the status of the stamping ink in the printer as one of the following values:</p>
<p><strong>notSuppoorted</strong>&lt;br&gt;
Capability not supported by device.</p>
<p><strong>unknown</strong>&lt;br&gt;
Status of the stamping ink supply cannot be determined with device in its current state.</p>
<p><strong>full</strong>&lt;br&gt;
Ink supply in device is full.</p>
<p><strong>low</strong>&lt;br&gt;
Ink supply in device is low.</p>
<p><strong>out</strong>&lt;br&gt;
Ink supply in device is empty.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">printer.lamp </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the status of the printer imaging lamp as one of the following values:</p>
<p><strong>notSupported</strong>&lt;br&gt;
Capability not supported by device.</p>
<p><strong>unknown</strong>&lt;br&gt;
Status of the imaging lamp cannot be determined with device in its current state.</p>
<p><strong>ok</strong>&lt;br&gt;
The lamp is OK.</p>
<p><strong>fading</strong>&lt;br&gt;
The lamp should be changed.</p>
<p><strong>inop</strong>&lt;br&gt;
The lamp is inoperative.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">printer.retractBins </td>
  <td class="table__body__cell">
    array
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>An array of bin state objects. If no retain bins are supported, the array will be empty.</p>
</td>
</tr class="table__body__row">













  
    







<tr class="table__body__row">
  <td class="table__body__cell">printer.retractBins.state </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the state of the printer retract bin as one of the following:</p>
<p><strong>ok</strong>&lt;br&gt;
The retract bin of the printer is in a healthy state.</p>
<p><strong>full</strong>&lt;br&gt;
The retract bin of the printer is full.</p>
<p><strong>unknown</strong>&lt;br&gt;
Status cannot be determined with device in its current state.</p>
<p><strong>high</strong>&lt;br&gt;
The retract bin of the printer is nearly full.</p>
<p><strong>missing</strong>&lt;br&gt;
The retract bin is missing.</p>
</td>
</tr class="table__body__row">















  
    







<tr class="table__body__row">
  <td class="table__body__cell">printer.retractBins.count </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The number of media retracted to this bin. This value is persistent; it may be reset to zero by the Printer.ResetCount command.</p>
</td>
</tr class="table__body__row">















  




  







<tr class="table__body__row">
  <td class="table__body__cell">printer.mediaOnStacker </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The number of media on stacker; applicable only to printers with stacking capability.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">printer.paperType </td>
  <td class="table__body__cell">
    object
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the type of paper loaded as one of the following:</p>
<p><strong>unknown</strong>&lt;br&gt;
No paper is loaded, reporting of this paper type is not supported or the paper type cannot be determined.</p>
<p><strong>single</strong>&lt;br&gt;
The paper can be printed on only one side.</p>
<p><strong>dual</strong>&lt;br&gt;
The paper can be printed on both sides.</p>
</td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">printer.paperType.upper </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The upper paper supply paper type.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">printer.paperType.lower </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The lower paper supply paper type.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">printer.paperType.external </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The external paper supply paper type.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">printer.paperType.aux </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The auxililliary paper supply paper type.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">printer.paperType.aux2 </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The second auxililliary paper supply paper type.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">printer.paperType.park </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The parking station paper supply paper type.</p>
</td>
</tr class="table__body__row">























  







<tr class="table__body__row">
  <td class="table__body__cell">printer.blackMarkMode </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the status of the black mark detection and associated functionality:</p>
<p><strong>notSupported</strong>&lt;br&gt;
Black mark detection is not supported.</p>
<p><strong>unknown</strong>&lt;br&gt;
The status of the black mark detection cannot be determined.</p>
<p><strong>on</strong>&lt;br&gt;
Black mark detection and associated functionality is switched on.</p>
<p><strong>off</strong>&lt;br&gt;
Black mark detection and associated functionality is switched off.</p>
</td>
</tr class="table__body__row">






























  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">encryptionState <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the state of the encryption module</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">certificateState <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the state of the public verification or encryption key in the PIN certificate modules</p>
</td>
</tr class="table__body__row">

































    
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "common": {
      "device": "online",
      "extra": [
        "string"
      ],
      "guideLights": [
        {}
      ],
      "devicePosition": "inposition",
      "powerSaveRecoveryTime": 0,
      "antiFraudModule": "notSupp"
    },
    "cardReader": {
      "timeout": "5000",
      "media": "notSupported",
      "retainBin": "notSupported",
      "security": "notSupported",
      "numberCards": 0,
      "chipPower": "notSupported"
    },
    "cashAcceptor": {
      "intermediateStacker": "empty",
      "stackerItems": "customerAccess",
      "banknoteReader": "customokerAccess",
      "dropBox": true,
      "positions": [
        {
          "position": "inLeft",
          "shutter": "closed",
          "positionStatus": "empty",
          "transport": "ok",
          "transportStatus": "empty",
          "jammedShutterPosition": "notSupported"
        }
      ],
      "mixedMode": "notActive"
    },
    "cashDispenser": {
      "intermediateStacker": "empty",
      "positions": [
        {
          "position": "left",
          "shutter": "closed",
          "positionStatus": "empty",
          "transport": "ok",
          "transportStatus": "empty",
          "jammedShutterPosition": "notSupported"
        }
      ]
    },
    "cashManagement": {
      "safeDoor": "doorNotSupported",
      "dispenser": "ok",
      "acceptor": "ok"
    },
    "pinPad": null,
    "crypto": {},
    "keyManagement": {},
    "keyboard": {},
    "textTerminal": {},
    "printer": {
      "media": "notSupported",
      "paper": {
        "upper": "notSupported",
        "lower": "notSupported",
        "external": "notSupported",
        "aux": "notSupported",
        "aux2": "notSupported",
        "park": "notSupported",
        "property1": "notSupported",
        "property2": "notSupported"
      },
      "toner": "notSupported",
      "ink": "notSupported",
      "lamp": "notSupported",
      "retractBins": [
        {
          "state": "unknown",
          "count": 0
        }
      ],
      "mediaOnStacker": 0,
      "paperType": {
        "upper": "unknown",
        "lower": "unknown",
        "external": "unknown",
        "aux": "unknown",
        "aux2": "unknown",
        "park": "unknown",
        "property1": "unknown",
        "property2": "unknown"
      },
      "blackMarkMode": "notSupported"
    },
    "encryptionState": "ready",
    "certificateState": "unknown"
  }
}</code></pre>



  <h3>Event Messages</h3>
  <ul>
    
  </ul>

</div>



  

<a name="command-KeyManagement.GetKeyDetail"></a>
<div class="command">
  <h2 class="section-header">
    KeyManagement.GetKeyDetail
    
  </h2>

  
    <h3>Description</h3>
    <p>This command returns extended detailed information about the keys in the encryption module, including des,dukpt,aes,rsa private and public keys.
This command will also return information on all keys loaded during manufacture that can be used by applications.
Details relating to the keys loaded using OPT (via the ZKA ProtIsoPs protocol) are retrieved using the ZKA hsmLdi protocol.
These keys are not reported by this command.</p>

  

  <h3>Command Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  











  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">timeout </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell">0</td>
  <td class="table__body__cell"><p>Timeout in milliseconds for the command to complete. If set to zero, the command will not timeout but can be cancelled.</p>
</td>
</tr class="table__body__row">























  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">keyName </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Name of the key for which detailed information is requested.</p>
</td>
</tr class="table__body__row">

































    
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "timeout": "5000",
    "keyName": "string"
  }
}</code></pre>



  <h3>Completion Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  











  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">completionCode </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>success if the commmand was successful otherwise error</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">errorDescription </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>If not success, then this is optional vendor dependent information to provide additional information</p>
</td>
</tr class="table__body__row">























  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">keyDetail </td>
  <td class="table__body__cell">
    array
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">













  
    







<tr class="table__body__row">
  <td class="table__body__cell">keyDetail.keyName </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the name of the key.</p>
</td>
</tr class="table__body__row">















  
    







<tr class="table__body__row">
  <td class="table__body__cell">keyDetail.generation </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the generation of the key as bcd value.
Different generations might correspond to different environments (e.g. test or production environment).
The content is vendor specific. This value will be 0xFF if no such information is available for the key.</p>
</td>
</tr class="table__body__row">















  
    







<tr class="table__body__row">
  <td class="table__body__cell">keyDetail.version </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the version of the key (the year in which the key is valid, e.g. 01 for 2001) as bcd value.
This value will be 0xFF if no such information is available for the key.</p>
</td>
</tr class="table__body__row">















  
    







<tr class="table__body__row">
  <td class="table__body__cell">keyDetail.activatingDate </td>
  <td class="table__body__cell">
    array
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the date when the key is activated as bcd value in the format YYYYMMDD.
This value will be 0xFFFFFFFF if no such information is available for the key.</p>
</td>
</tr class="table__body__row">















  
    







<tr class="table__body__row">
  <td class="table__body__cell">keyDetail.expiryDate </td>
  <td class="table__body__cell">
    array
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the date when the key expires as bcd value in the format YYYYMMDD.
This value will be 0xFFFFFFFF if no such information is available for the key.</p>
</td>
</tr class="table__body__row">















  
    







<tr class="table__body__row">
  <td class="table__body__cell">keyDetail.loaded <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    object
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies whether the key has been loaded (imported from Application or locally from Operator).</p>
</td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">keyDetail.loaded.no </td>
  <td class="table__body__cell">
    boolean
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The key is not loaded or not ready to be used in cryptographic operations.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">keyDetail.loaded.yes </td>
  <td class="table__body__cell">
    boolean
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The key is loaded and ready to be used in cryptographic operations.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">keyDetail.loaded.unknown </td>
  <td class="table__body__cell">
    boolean
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The State of the key is unknown.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">keyDetail.loaded.construct </td>
  <td class="table__body__cell">
    boolean
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The key is under construction, meaning that at least one key part has been loaded but the key is not activated and ready to be used in other cryptographic operations.
This flag can only be returned in combination with loaded_no.</p>
</td>
</tr class="table__body__row">






















  
    







<tr class="table__body__row">
  <td class="table__body__cell">keyDetail.keyBlockInfo </td>
  <td class="table__body__cell">
    object
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Contains the key block header of keys imported within an ANS TR-31 key block.
This data is encoded in the same format that it was imported in, and contains all mandatory and optional header fields.
keyBlockHeader is NULL if the key was not imported within a key block or has not been loaded yet.
The use field provides an accurate summary of the key use, but the use defined within the key block header is more precise.</p>
</td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">keyDetail.keyBlockInfo.keyUsage <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the intended function of the key.
See [Reference 35. ANS X9 TR-31 2018] for all possible values.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">keyDetail.keyBlockInfo.algorithm <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the algorithm for which the key may be used.
See [Reference 35. ANS X9 TR-31 2018] for all possible values.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">keyDetail.keyBlockInfo.modeOfUse <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the operation that the key may perform.
See [Reference 35. ANS X9 TR-31 2018] for all possible values.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">keyDetail.keyBlockInfo.keyVersionNumber </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies a two-digit ASCII character version number, which is optionally used to indicate that contents of the key block are a component, or to prevent re-injection of old keys.
See [Reference 35. ANS X9 TR-31 2018] for all possible values.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">keyDetail.keyBlockInfo.exportability </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies whether the key may be transferred outside of the cryptographic domain in which the key is found.
See [Reference 35. ANS X9 TR-31 2018] for all possible values.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">keyDetail.keyBlockInfo.optionalBlockHeader </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Contains any optional header blocks, as defined in [Reference 35. ANS X9 TR-31 2018].
This value will be NULL if there are no optional block headers.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">keyDetail.keyBlockInfo.keyLength <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the length, in bits, of the key. 0 if the key length is unknown.</p>
</td>
</tr class="table__body__row">






















  





















    
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "completionCode": "success",
    "errorDescription": "string",
    "keyDetail": [
      {
        "keyName": "string",
        "generation": 0,
        "version": 0,
        "activatingDate": [
          0
        ],
        "expiryDate": [
          0
        ],
        "loaded": {
          "no": true,
          "yes": true,
          "unknown": true,
          "construct": true
        },
        "keyBlockInfo": {
          "keyUsage": "string",
          "algorithm": "string",
          "modeOfUse": "string",
          "keyVersionNumber": "string",
          "exportability": "string",
          "optionalBlockHeader": "string",
          "keyLength": 0
        }
      }
    ]
  }
}</code></pre>



  <h3>Event Messages</h3>
  <ul>
    
  </ul>

</div>



  

<a name="command-KeyManagement.Initialization"></a>
<div class="command">
  <h2 class="section-header">
    KeyManagement.Initialization
    
  </h2>

  
    <h3>Description</h3>
    <p>The encryption module must be initialized before any encryption function can be used.
Every call to Initialization destroys all application keys that have been loaded or imported; it does not affect those keys loaded during manufacturing.
Usually this command is called by an operator task and not by the application program.
Public keys imported under the rsa Signature based remote key loading scheme when public key deletion authentication is required will not be affected.
However, if this command is requested in authenticated mode, public keys that require authentication for deletion will be deleted.
This includes public keys imported under either the rsa Signature based remote key loading scheme or the TR34 RSA Certificate based remote key loading scheme.
Initialization also involves loading â€œinitial' application keys and local vendor dependent keys.
These can be supplied, for example, by an operator through a keyboard, a local configuration file, remote RSA key management or possibly by means of some secure hardware that can be attached to the device.
The application 'initial' keys would normally get updated by the application during a ImportKeyEx command as soon as possible.
Local vendor dependent static keys (e.g. storage, firmware and offset keys) would normally be transparent to the application and by definition cannot be dynamically changed.
Where initial keys are not available immediately when this command is issued (i.e. when operator intervention is required), the Service Provider returns accessDenied and the application must await the InitializedEvent.
During initialization an optional encrypted ID key can be stored in the HW module. The ID key and the corresponding encryption key can be passed as parameters; if not, they are generated automatically by the encryption module.
The encrypted ID is returned to the application and serves as authorization for the key import function.
The Capabilities command indicates whether or not the device will support this feature.
This function also resets the hsm terminal data, except session key index and trace number.
This function resets all certificate data and authentication public/private keys back to their initial states at the time of production (except for those public keys imported under the rsa Signature based remote key loading scheme when public key deletion authentication is required).
Key-pairs created with GenerateRSAKeyPair are deleted.
Any keys installed during production, which have been permanently replaced, will not be reset.
Any Verification certificates that may have been loaded must be reloaded.
The Certificate state will remain the same, but the LoadCertificate or ReplaceCertificate commands must be called again.
When multiple ZKA HSMs are present, this command deletes all keys loaded within all ZKA logical HSMs.&quot;</p>

  

  <h3>Command Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  











  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">timeout </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell">0</td>
  <td class="table__body__cell"><p>Timeout in milliseconds for the command to complete. If set to zero, the command will not timeout but can be cancelled.</p>
</td>
</tr class="table__body__row">























  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">ident </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The value of the ID key. this field is not required if an indent is not required.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">key </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The value of the encryption key formatted in base64. this field is not required if no specific key name required.</p>
</td>
</tr class="table__body__row">

































    
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "timeout": "5000",
    "ident": "string",
    "key": "string"
  }
}</code></pre>



  <h3>Completion Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  











  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">completionCode </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>success if the commmand was successful otherwise error</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">errorDescription </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>If not success, then this is optional vendor dependent information to provide additional information</p>
</td>
</tr class="table__body__row">























  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">identification </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The value of the ID key encrypted by the encryption key formatted in base64.
This value can be used as authorization for the ImportKey command, this field is not set if no authorization required.</p>
</td>
</tr class="table__body__row">

































    
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "completionCode": "success",
    "errorDescription": "string",
    "identification": "string"
  }
}</code></pre>



  <h3>Event Messages</h3>
  <ul>
    
  </ul>

</div>



  

<a name="command-KeyManagement.DeriveKey"></a>
<div class="command">
  <h2 class="section-header">
    KeyManagement.DeriveKey
    
  </h2>

  
    <h3>Description</h3>
    <p>The encryption key in the secure key buffer or passed by the application is loaded in the encryption module.
The key can be passed in clear text mode or encrypted with an accompanying 'key encryption key'.
A key can be loaded in multiple unencrypted parts by combining the construct or secureConstruct value with the final usage flags within the use field.
If the construct flag is used then the application must provide the key data through the value parameter, If secureConstruct is used then the encryption key part in the secure key buffer previously populated with the SecureKeyEntry command is used and value is ignored.
Key parts loaded with the secureConstruct flag can only be stored once as the encryption key in the secure key buffer is no longer available after this command has been executed.
The construct and secureConstruct construction flags cannot be used in combination.</p>

  

  <h3>Command Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  











  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">timeout </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell">0</td>
  <td class="table__body__cell"><p>Timeout in milliseconds for the command to complete. If set to zero, the command will not timeout but can be cancelled.</p>
</td>
</tr class="table__body__row">























  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">derivationAlgorithm <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the algorithm that is used for derivation.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">key <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the name where the derived key will be stored.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">keyGenKey <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the name of the key generating key that is used for the derivation.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">startValueKey </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the name of the stored key used to decrypt the startValue to obtain the Initialization Vector.
If this field is not set, startValue is used as the Initialization Vector.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">startValue <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>des initialization vector for the encryption step within the derivation.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">padding <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the padding character for the encryption step within the derivation. The valid range is 0x00 to 0xFF</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">inputData <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Data to be used for key derivation.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">ident </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the key owner identification.
It is a handle to the encryption module and is returned to the application in the intialization command.
See idKey in Capabilities for whether this value is required.
If not required, this field should not be set. The use of this parameter is vendor dependent.</p>
</td>
</tr class="table__body__row">

































    
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "timeout": "5000",
    "derivationAlgorithm": 0,
    "key": "string",
    "keyGenKey": "string",
    "startValueKey": "string",
    "startValue": "string",
    "padding": 0,
    "inputData": "string",
    "ident": "string"
  }
}</code></pre>



  <h3>Completion Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  











  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">completionCode </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>success if the commmand was successful otherwise error</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">errorDescription </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>If not success, then this is optional vendor dependent information to provide additional information</p>
</td>
</tr class="table__body__row">

































    
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "completionCode": "success",
    "errorDescription": "string"
  }
}</code></pre>



  <h3>Event Messages</h3>
  <ul>
    
  </ul>

</div>



  

<a name="command-KeyManagement.Reset"></a>
<div class="command">
  <h2 class="section-header">
    KeyManagement.Reset
    
  </h2>

  
    <h3>Description</h3>
    <p>Sends a service reset to the Service Provider.</p>

  

  <h3>Command Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  











  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">timeout </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell">0</td>
  <td class="table__body__cell"><p>Timeout in milliseconds for the command to complete. If set to zero, the command will not timeout but can be cancelled.</p>
</td>
</tr class="table__body__row">

































    
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "timeout": "5000"
  }
}</code></pre>



  <h3>Completion Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  











  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">completionCode </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>success if the commmand was successful otherwise error</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">errorDescription </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>If not success, then this is optional vendor dependent information to provide additional information</p>
</td>
</tr class="table__body__row">

































    
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "completionCode": "success",
    "errorDescription": "string"
  }
}</code></pre>



  <h3>Event Messages</h3>
  <ul>
    
  </ul>

</div>



  

<a name="command-KeyManagement.ImportKey"></a>
<div class="command">
  <h2 class="section-header">
    KeyManagement.ImportKey
    
  </h2>

  
    <h3>Description</h3>
    <p>The encryption key passed by the application is loaded in the encryption module.
For secret keys, the key must be passed encrypted with an accompanying &quot;key encrypting key&quot; or &quot;key block protection key&quot;.
For public keys, they key is not required to be encrypted but is required to have verification data in order to be loaded.</p>

  

  <h3>Command Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  











  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">timeout </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell">0</td>
  <td class="table__body__cell"><p>Timeout in milliseconds for the command to complete. If set to zero, the command will not timeout but can be cancelled.</p>
</td>
</tr class="table__body__row">























  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">key <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the name of key being loaded.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">keyAttributes </td>
  <td class="table__body__cell">
    object
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>This parameter specifies the encryption algorithm, cryptographic method, and mode to be used for the key imported by this command.
For a list of valid values see the keyAttributes capability field. The values specified must be compatible with the key identified by key.</p>
</td>
</tr class="table__body__row">









  













  
  







<tr class="table__body__row">
  <td class="table__body__cell">keyAttributes.keyUsage. </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">
















  
  







<tr class="table__body__row">
  <td class="table__body__cell">keyAttributes.keyUsage. </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">

























  







<tr class="table__body__row">
  <td class="table__body__cell">keyAttributes.propkeyUsage </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell">0</td>
  <td class="table__body__cell"><p>if keyUsage is set to numeric, proprietary value is set. otherwise this field is not required.</p>
</td>
</tr class="table__body__row">
















  













  
  







<tr class="table__body__row">
  <td class="table__body__cell">keyAttributes.algorithm. </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">
















  
  







<tr class="table__body__row">
  <td class="table__body__cell">keyAttributes.algorithm. </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">

























  







<tr class="table__body__row">
  <td class="table__body__cell">keyAttributes.propAlgorithm </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell">0</td>
  <td class="table__body__cell"><p>if algorithm is set to numeric, proprietary value is set. otherwise this field is not required.</p>
</td>
</tr class="table__body__row">
















  













  
  







<tr class="table__body__row">
  <td class="table__body__cell">keyAttributes.modeOfUse. </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">
















  
  







<tr class="table__body__row">
  <td class="table__body__cell">keyAttributes.modeOfUse. </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">

























  







<tr class="table__body__row">
  <td class="table__body__cell">keyAttributes.propmodeOfUse </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell">0</td>
  <td class="table__body__cell"><p>if modeOfUse is set to numeric, proprietary value is set. otherwise this field is not required.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">keyAttributes.cryptoMethod <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the cryptographic methods supported by the import command. For attributes, this parameter is 0, because the key being imported is not being used yet to perform a cryptographic method</p>
</td>
</tr class="table__body__row">























  







<tr class="table__body__row">
  <td class="table__body__cell">value <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the value of key to be loaded formatted in base64.
If it is an rsa key the first 4 bytes contain the exponent and the following 128 the modulus.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">decryptKey </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the name of the key used to decrypt the key being loaded.
If value contains a TR-31 key block, then decryptKey is the name of the key block protection key that is used to verify and decrypt the key block.
This field is not required if the data in Value is not encrypted.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">decryptMethod </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the cryptographic method that shall be used with the key specified by decryptKey.
The device shall use this method to decrypt the encrypted value in the value parameter.
For a list of valid values see the cryptoMethod field in the decryptAttributes capability field.
Must be an empty string if a keyblock is being imported, as the decrypt method is contained within the keyblock.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">verificationData </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Contains the data to be verified before importing.
if this field is not set when no verification is needed before importing the key.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">verifyKey </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the name of the previously loaded key which will be used to verify the verificationData.
This field is not required when no verification is needed before importing the key.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">verifyAttributes </td>
  <td class="table__body__cell">
    object
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>This parameter specifies the encryption algorithm, cryptographic method, and mode to be used to verify this command or to generate verification output data.
Verifying input data will result in no verification output data.
For a list of valid values see the verifyAttributes capability fields. This field must not be set if verificationData is not required.</p>
</td>
</tr class="table__body__row">









  













  
  







<tr class="table__body__row">
  <td class="table__body__cell">verifyAttributes.keyUsage. </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">
















  
  







<tr class="table__body__row">
  <td class="table__body__cell">verifyAttributes.keyUsage. </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">

























  







<tr class="table__body__row">
  <td class="table__body__cell">verifyAttributes.propkeyUsage </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell">0</td>
  <td class="table__body__cell"><p>if keyUsage is set to numeric, proprietary value is set. otherwise this field is not required.</p>
</td>
</tr class="table__body__row">
















  













  
  







<tr class="table__body__row">
  <td class="table__body__cell">verifyAttributes.algorithm. </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">
















  
  







<tr class="table__body__row">
  <td class="table__body__cell">verifyAttributes.algorithm. </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">

























  







<tr class="table__body__row">
  <td class="table__body__cell">verifyAttributes.propAlgorithm </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell">0</td>
  <td class="table__body__cell"><p>if algorithm is set to numeric, proprietary value is set. otherwise this field is not required.</p>
</td>
</tr class="table__body__row">
















  













  
  







<tr class="table__body__row">
  <td class="table__body__cell">verifyAttributes.modeOfUse. </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">
















  
  







<tr class="table__body__row">
  <td class="table__body__cell">verifyAttributes.modeOfUse. </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">

























  







<tr class="table__body__row">
  <td class="table__body__cell">verifyAttributes.propmodeOfUse </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell">0</td>
  <td class="table__body__cell"><p>if modeOfUse is set to numeric, proprietary value is set. otherwise this field is not required.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">verifyAttributes.cryptoMethod <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>This parameter specifies the cryptographic method that will be used with encryption algorithm.</p>
</td>
</tr class="table__body__row">























  







<tr class="table__body__row">
  <td class="table__body__cell">vendorAttributes </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the vendor attributes of the key to be imported.
Refer to vendor documentation for details. If no vendor attributes are used, then this field must not be set.</p>
</td>
</tr class="table__body__row">

































    
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "timeout": "5000",
    "key": "string",
    "keyAttributes": {
      "keyUsage": 0,
      "propkeyUsage": 0,
      "algorithm": 0,
      "propAlgorithm": 0,
      "modeOfUse": 0,
      "propmodeOfUse": 0,
      "cryptoMethod": "string"
    },
    "value": "string",
    "decryptKey": "string",
    "decryptMethod": "string",
    "verificationData": "string",
    "verifyKey": "string",
    "verifyAttributes": {
      "keyUsage": 0,
      "propkeyUsage": 0,
      "algorithm": 0,
      "propAlgorithm": 0,
      "modeOfUse": 0,
      "propmodeOfUse": 0,
      "cryptoMethod": "none"
    },
    "vendorAttributes": "string"
  }
}</code></pre>



  <h3>Completion Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">verificationData </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The verification data. This field is not set if there is no verification data.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">verifyAttributes </td>
  <td class="table__body__cell">
    object
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>This parameter specifies the encryption algorithm, cryptographic method, and mode used to verify this command For a list of valid values see the verifyAttributes capability fields.
This field is not set if there is no verification data.</p>
</td>
</tr class="table__body__row">









  













  
  







<tr class="table__body__row">
  <td class="table__body__cell">verifyAttributes.keyUsage. </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">
















  
  







<tr class="table__body__row">
  <td class="table__body__cell">verifyAttributes.keyUsage. </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">

























  







<tr class="table__body__row">
  <td class="table__body__cell">verifyAttributes.propkeyUsage </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell">0</td>
  <td class="table__body__cell"><p>if keyUsage is set to numeric, proprietary value is set. otherwise this field is not required.</p>
</td>
</tr class="table__body__row">
















  













  
  







<tr class="table__body__row">
  <td class="table__body__cell">verifyAttributes.algorithm. </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">
















  
  







<tr class="table__body__row">
  <td class="table__body__cell">verifyAttributes.algorithm. </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">

























  







<tr class="table__body__row">
  <td class="table__body__cell">verifyAttributes.propAlgorithm </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell">0</td>
  <td class="table__body__cell"><p>if algorithm is set to numeric, proprietary value is set. otherwise this field is not required.</p>
</td>
</tr class="table__body__row">
















  













  
  







<tr class="table__body__row">
  <td class="table__body__cell">verifyAttributes.modeOfUse. </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">
















  
  







<tr class="table__body__row">
  <td class="table__body__cell">verifyAttributes.modeOfUse. </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">

























  







<tr class="table__body__row">
  <td class="table__body__cell">verifyAttributes.propmodeOfUse </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell">0</td>
  <td class="table__body__cell"><p>if modeOfUse is set to numeric, proprietary value is set. otherwise this field is not required.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">verifyAttributes.cryptoMethod <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>This parameter specifies the cryptographic method that will be used with encryption algorithm.</p>
</td>
</tr class="table__body__row">






















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">keyLength <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the length, in bits, of the key. 0 is the key length is unknown.</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "verificationData": "string",
    "verifyAttributes": {
      "keyUsage": 0,
      "propkeyUsage": 0,
      "algorithm": 0,
      "propAlgorithm": 0,
      "modeOfUse": 0,
      "propmodeOfUse": 0,
      "cryptoMethod": "none"
    },
    "keyLength": 0
  }
}</code></pre>



  <h3>Event Messages</h3>
  <ul>
    
  </ul>

</div>



  

<a name="command-KeyManagement.DeleteKey"></a>
<div class="command">
  <h2 class="section-header">
    KeyManagement.DeleteKey
    
  </h2>

  
    <h3>Description</h3>
    <p>This command can be used to delete a key without authentication.
Where an authenticated delete is required, the StartAuthenticate and Authenticate commands should be used.</p>

  

  <h3>Command Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">key </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the name of key being deleted. if this field is not specified or an empty string. all keys are deleted.</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "key": "string",
    "timeout": "5000"
  }
}</code></pre>



  <h3>Completion Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  











  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">completionCode </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>success if the commmand was successful otherwise error</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">errorDescription </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>If not success, then this is optional vendor dependent information to provide additional information</p>
</td>
</tr class="table__body__row">

































    
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "completionCode": "success",
    "errorDescription": "string"
  }
}</code></pre>



  <h3>Event Messages</h3>
  <ul>
    
  </ul>

</div>



  

<a name="command-KeyManagement.ExportRSAIssuerSignedItem"></a>
<div class="command">
  <h2 class="section-header">
    KeyManagement.ExportRSAIssuerSignedItem
    
  </h2>

  
    <h3>Description</h3>
    <p>This command is used to export data elements from the device, which have been signed by an offline Signature Issuer. This command is used when the default keys and Signature Issuer signatures, installed during manufacture, are to be used for remote key loading. This command allows the following data items are to be exported:</p>
<ul>
<li>The Security Item which uniquely identifies the device. This value may be used to uniquely identify a device and therefore confer trust upon any key or data obtained from this device.</li>
<li>The rsa public key component of a public/private key pair that exists within the device. These public/private key pairs are installed during manufacture. Typically, an exported public key is used by the host to encipher the symmetric key.</li>
</ul>

  

  <h3>Command Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  











  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">timeout </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell">0</td>
  <td class="table__body__cell"><p>Timeout in milliseconds for the command to complete. If set to zero, the command will not timeout but can be cancelled.</p>
</td>
</tr class="table__body__row">























  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">exportItemType </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Defines the type of data item to be exported from the device.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">name </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the name of the public key to be exported.
The private/public key pair was installed during manufacture; see section 8.1.8 (Default Keys and Security Item loaded during manufacture) for a definition of these default keys.
If name is an empty string, then the default EPP public key that is used for symmetric key encryption is exported.</p>
</td>
</tr class="table__body__row">

































    
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "timeout": "5000",
    "exportItemType": "eppId",
    "name": "string"
  }
}</code></pre>



  <h3>Completion Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  











  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">completionCode </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>success if the commmand was successful otherwise error</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">errorDescription </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>If not success, then this is optional vendor dependent information to provide additional information</p>
</td>
</tr class="table__body__row">























  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">value </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>If a public key was requested then value contains the PKCS #1 formatted rsa public key represented in DER encoded ASN.1 format.
If the security item was requested then value contains the PIN's Security Item, which may be vendor specific.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">rsaSignatureAlgorithm </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the algorithm used to generate the Signature returned in signature</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">signature </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the RSA signature of the data item exported formatted in base64. An empty sting can be returned when key signature are not supported.</p>
</td>
</tr class="table__body__row">

































    
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "completionCode": "success",
    "errorDescription": "string",
    "value": "string",
    "rsaSignatureAlgorithm": "na",
    "signature": "string"
  }
}</code></pre>



  <h3>Event Messages</h3>
  <ul>
    
  </ul>

</div>



  

<a name="command-KeyManagement.GenerateRSAKeyPair"></a>
<div class="command">
  <h2 class="section-header">
    KeyManagement.GenerateRSAKeyPair
    
  </h2>

  
    <h3>Description</h3>
    <p>This command will generate a new rsa key pair.
The public key generated as a result of this command can subsequently be obtained by calling ExportRSAEPPSignedItem.
The newly generated key pair can only be used for the use defined in the dwUse flag.
This flag defines the use of the private key; its public key can only be used for the inverse function.</p>

  

  <h3>Command Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  











  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">timeout </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell">0</td>
  <td class="table__body__cell"><p>Timeout in milliseconds for the command to complete. If set to zero, the command will not timeout but can be cancelled.</p>
</td>
</tr class="table__body__row">























  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">key </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the name of the new key-pair to be generated. Details of the generated key-pair can be obtained through the KeyDetail command.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">use </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies what the private key component of the key pair can be used for.
The public key part can only be used for the inverse function.
For example, if the rsaPrivateSign use is specified, then the private key can only be used for signature generation and the partner public key can only be used for verification.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">modulusLength </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the number of bits for the modulus of the rsa key pair to be generated.
When zero is specified then the device will be responsible for defining the length.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">exponentValue </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the value of the exponent of the rsa key pair to be generated</p>
</td>
</tr class="table__body__row">

































    
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "timeout": "5000",
    "key": "string",
    "use": "rsaPrivate",
    "modulusLength": 0,
    "exponentValue": "default"
  }
}</code></pre>



  <h3>Completion Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  











  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">completionCode </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>success if the commmand was successful otherwise error</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">errorDescription </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>If not success, then this is optional vendor dependent information to provide additional information</p>
</td>
</tr class="table__body__row">

































    
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "completionCode": "success",
    "errorDescription": "string"
  }
}</code></pre>



  <h3>Event Messages</h3>
  <ul>
    
  </ul>

</div>



  

<a name="command-KeyManagement.ExportRSAEPPSignedItem"></a>
<div class="command">
  <h2 class="section-header">
    KeyManagement.ExportRSAEPPSignedItem
    
  </h2>

  
    <h3>Description</h3>
    <p>This command is used to export data elements from the device that have been signed by a private key within the epp.
This command is used in place of the ExportRSAIssuerSignedItem command, when a private key generated within the device is to be used to generate the signature for the data item. This command allows an application to define which of the following data items are to be exported.</p>
<ul>
<li>The Security Item which uniquely identifies the device. This value may be used to uniquely identify a device and therefore confer trust upon any key or data obtained from this device.</li>
<li>The rsa public key component of a public/private key pair that exists within the device.</li>
</ul>

  

  <h3>Command Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  











  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">timeout </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell">0</td>
  <td class="table__body__cell"><p>Timeout in milliseconds for the command to complete. If set to zero, the command will not timeout but can be cancelled.</p>
</td>
</tr class="table__body__row">























  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">exportItemType </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Defines the type of data item to be exported from the device</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">name </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the name of the public key to be exported.
This can either be the name of a key-pair generated through GenerateRsaKeyPair or the name of one of the default key-pairs installed during manufacture.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">sigKey </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the name of the private key to use to sign the exported item.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">signatureAlgorithm </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the algorithm to use to generate the Signature returned in both the selfSignature and signature fields.</p>
</td>
</tr class="table__body__row">

































    
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "timeout": "5000",
    "exportItemType": "eppId",
    "name": "string",
    "sigKey": "string",
    "signatureAlgorithm": "na"
  }
}</code></pre>



  <h3>Completion Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  











  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">completionCode </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>success if the commmand was successful otherwise error</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">errorDescription </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>If not success, then this is optional vendor dependent information to provide additional information</p>
</td>
</tr class="table__body__row">























  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">value </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>If a public key was requested then value contains the pkcs #1 formatted rsa Public Key represented in DER encoded ASN.1 format.
If the security item was requested then value contains the PIN's Security Item, which may be vendor specific.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">selfSignature </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>If a public key was requested then selfSignature contains the rsa signature of the public key exported, generated with the key-pair's private component.
An empty string can be returned when key selfSignatures are not supported/required.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">signature </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the rsa signature of the data item exported.
An empty string can be returned when signatures are not supported/required.</p>
</td>
</tr class="table__body__row">

































    
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "completionCode": "success",
    "errorDescription": "string",
    "value": "string",
    "selfSignature": "string",
    "signature": "string"
  }
}</code></pre>



  <h3>Event Messages</h3>
  <ul>
    
  </ul>

</div>



  

<a name="command-KeyManagement.GetCertificate"></a>
<div class="command">
  <h2 class="section-header">
    KeyManagement.GetCertificate
    
  </h2>

  
    <h3>Description</h3>
    <p>This command is used to read out the encryptorâ€™s certificate, which has been signed by the trusted Certificate Authority and is sent to the host. This command only needs to be called once if no new Certificate Authority has taken over.
The output of this command will specify in the pkcs #7 message the resulting Primary or Secondary certificate.</p>

  

  <h3>Command Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  











  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">timeout </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell">0</td>
  <td class="table__body__cell"><p>Timeout in milliseconds for the command to complete. If set to zero, the command will not timeout but can be cancelled.</p>
</td>
</tr class="table__body__row">























  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">getCertificate <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies which public key certificate is requested.
If the Status command indicates Primary Certificates are accepted, then the Primary Public Encryption Key or the Primary Public Verification Key will be read out.
If the Status command indicates Secondary Certificates are accepted, then the Secondary Public Encryption Key or the Secondary Public Verification Key will be read out.</p>
</td>
</tr class="table__body__row">

































    
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "timeout": "5000",
    "getCertificate": "enckey"
  }
}</code></pre>



  <h3>Completion Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  











  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">completionCode </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>success if the commmand was successful otherwise error</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">errorDescription </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>If not success, then this is optional vendor dependent information to provide additional information</p>
</td>
</tr class="table__body__row">























  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">certificate <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Contains the certificate that is to be loaded represented in DER encoded ASN.1 notation.
This data should be in a binary encoded pkcs #7 using the degenerate certificate only case of the signed-data content type in which the inner content's data file is omitted and there are no signers.</p>
</td>
</tr class="table__body__row">

































    
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "completionCode": "success",
    "errorDescription": "string",
    "certificate": "string"
  }
}</code></pre>



  <h3>Event Messages</h3>
  <ul>
    
  </ul>

</div>



  

<a name="command-KeyManagement.ReplaceCertificate"></a>
<div class="command">
  <h2 class="section-header">
    KeyManagement.ReplaceCertificate
    
  </h2>

  
    <h3>Description</h3>
    <p>This command is used to replace the existing primary or secondary Certificate Authority certificate already loaded into the KeyManagement.
This operation must be done by an Initial Certificate Authority or by a Sub-Certificate Authority.
These operations will replace either the primary or secondary Certificate Authority public verification key inside of the KeyManagement.
After this command is complete, the application should send the LoadCertificate and GetCertificate commands to ensure that the new HOST and the encryptor have all the information required to perform the remote key loading process.</p>

  

  <h3>Command Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  











  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">timeout </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell">0</td>
  <td class="table__body__cell"><p>Timeout in milliseconds for the command to complete. If set to zero, the command will not timeout but can be cancelled.</p>
</td>
</tr class="table__body__row">























  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">replaceCertificate <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The pkcs # 7 message that will replace the current Certificate Authority formatted in base64.
The outer content uses the signedData content type, the inner content is a degenerate certificate only content containing the new ca certificate and Inner Signed Data type The certificate should be in a format represented in DER encoded ASN.1 notation.</p>
</td>
</tr class="table__body__row">

































    
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "timeout": "5000",
    "replaceCertificate": "string"
  }
}</code></pre>



  <h3>Completion Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  











  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">completionCode </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>success if the commmand was successful otherwise error</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">errorDescription </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>If not success, then this is optional vendor dependent information to provide additional information</p>
</td>
</tr class="table__body__row">























  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">newCertificateData <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>A pkcs #7 using a Digested-data content type formatted in base64.
The digest parameter should contain the thumb print value.</p>
</td>
</tr class="table__body__row">

































    
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "completionCode": "success",
    "errorDescription": "string",
    "newCertificateData": "string"
  }
}</code></pre>



  <h3>Event Messages</h3>
  <ul>
    
  </ul>

</div>



  

<a name="command-KeyManagement.StartKeyExchange"></a>
<div class="command">
  <h2 class="section-header">
    KeyManagement.StartKeyExchange
    
  </h2>

  
    <h3>Description</h3>
    <p>This command is used to start communication with the host, including transferring the hostâ€™s Key Transport Key, replacing the Host certificate, and requesting initialization remotely.
This output value is returned to the host and is used in the ImportRSASignedDESKey, LoadCertificate, and ImportRSAEncipheredPKCS7Key commands to verify that the encryptor is talking to the proper host.
The ImportRSAEncipheredRKCS7Key command end the key exchange process.</p>

  

  <h3>Command Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  











  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">timeout </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell">0</td>
  <td class="table__body__cell"><p>Timeout in milliseconds for the command to complete. If set to zero, the command will not timeout but can be cancelled.</p>
</td>
</tr class="table__body__row">

































    
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "timeout": "5000"
  }
}</code></pre>



  <h3>Completion Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  











  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">completionCode </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>success if the commmand was successful otherwise error</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">errorDescription </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>If not success, then this is optional vendor dependent information to provide additional information</p>
</td>
</tr class="table__body__row">























  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">randomItem </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>A randomly generated number created by the encryptor formatted in base 64.
If the device does not support random number generation and verification, a zero length random number is returned and an empty string is returned.</p>
</td>
</tr class="table__body__row">

































    
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "completionCode": "success",
    "errorDescription": "string",
    "randomItem": "string"
  }
}</code></pre>



  <h3>Event Messages</h3>
  <ul>
    
  </ul>

</div>



  

<a name="command-KeyManagement.GenerateKCV"></a>
<div class="command">
  <h2 class="section-header">
    KeyManagement.GenerateKCV
    
  </h2>

  
    <h3>Description</h3>
    <p>This command returns the Key Check Value (kcv) for the specified key.</p>

  

  <h3>Command Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  











  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">timeout </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell">0</td>
  <td class="table__body__cell"><p>Timeout in milliseconds for the command to complete. If set to zero, the command will not timeout but can be cancelled.</p>
</td>
</tr class="table__body__row">























  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">key <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the name of key that should be used to generate the kcv.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">keyCheckMode <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the mode that is used to create the key check value.</p>
</td>
</tr class="table__body__row">

































    
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "timeout": "5000",
    "key": "string",
    "keyCheckMode": "self"
  }
}</code></pre>



  <h3>Completion Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  











  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">completionCode </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>success if the commmand was successful otherwise error</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">errorDescription </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>If not success, then this is optional vendor dependent information to provide additional information</p>
</td>
</tr class="table__body__row">























  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">kcv <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Contains the key check value data that can be used for verification of the key formatted in base64.</p>
</td>
</tr class="table__body__row">

































    
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "completionCode": "success",
    "errorDescription": "string",
    "kcv": "string"
  }
}</code></pre>



  <h3>Event Messages</h3>
  <ul>
    
  </ul>

</div>



  

<a name="command-KeyManagement.LoadCertificate"></a>
<div class="command">
  <h2 class="section-header">
    KeyManagement.LoadCertificate
    
  </h2>

  
    <h3>Description</h3>
    <p>This command is used to load a host certificate to make remote key loading possible.
This command can be used to load a host certificate when there is not already one present in the encryptor as well as replace the existing host certificate with a new host certificate.
The type of certificate (Primary or Secondary) to be loaded will be embedded within the actual certificate structure.</p>

  

  <h3>Command Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  











  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">timeout </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell">0</td>
  <td class="table__body__cell"><p>Timeout in milliseconds for the command to complete. If set to zero, the command will not timeout but can be cancelled.</p>
</td>
</tr class="table__body__row">























  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">loadOption <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the method to use to load the certificate</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">signer <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the signer of the certificate to be loaded</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">certificateData <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The structure that contains the certificate that is to be loaded represented in DER encoded ASN.1 notation.
For loadNewHost, this data should be in a binary encoded PKCS #7 using the 'degenerate certificate only' case of the signed-data content type in which the inner content's data file is omitted and there are no signers.
For replaceHost, the message has an outer signedData content type with the signerInfo encryptedDigest field containing the signature of signer.
The inner content is binary encoded pkcs#7 using the degenerate certificate.
The optional crl field may or may not be included in the pkcs#7 signedData structure.</p>
</td>
</tr class="table__body__row">

































    
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "timeout": "5000",
    "loadOption": "newHost",
    "signer": "certHost",
    "certificateData": "string"
  }
}</code></pre>



  <h3>Completion Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  











  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">completionCode </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>success if the commmand was successful otherwise error</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">errorDescription </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>If not success, then this is optional vendor dependent information to provide additional information</p>
</td>
</tr class="table__body__row">























  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">rsaKeyCheckMode <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    object
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Defines algorithm/method used to generate the public key check value/thumb print.
The check value can be used to verify that the public key has been imported correctly.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">rsaData </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>A pkcs #7 structure using a Digested-data content type formatted in base64.
The digest parameter should contain the thumb print value calculated by the algorithm specified by rsaKeyCheckMode.
If rsaKeyCheckMode is none, then this field is not be set or an empty string.</p>
</td>
</tr class="table__body__row">

































    
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "completionCode": "success",
    "errorDescription": "string",
    "rsaKeyCheckMode": "none",
    "rsaData": "string"
  }
}</code></pre>



  <h3>Event Messages</h3>
  <ul>
    
  </ul>

</div>



  

<a name="command-KeyManagement.StartAuthenticate"></a>
<div class="command">
  <h2 class="section-header">
    KeyManagement.StartAuthenticate
    
  </h2>

  
    <h3>Description</h3>
    <p>This command is used to retrieve the data that needs to be signed and hence provided to the Authenticate command in order to perform an authenticated action on the device.
If this command returns data to be signed then the Authenticate command must be used to call the command referenced by startAuthenticate.
Any attempt to call the referenced command without using the Authenticate command, if authentication is required, shall result in AuthRequired.</p>

  

  <h3>Command Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  











  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">timeout </td>
  <td class="table__body__cell">
    integer
  </td>
  <td class="table__body__cell">0</td>
  <td class="table__body__cell"><p>Timeout in milliseconds for the command to complete. If set to zero, the command will not timeout but can be cancelled.</p>
</td>
</tr class="table__body__row">























  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">commandId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The command name to which authentication is being applied</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">inputData </td>
  <td class="table__body__cell">
    object
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>A payload to the input data of the command referred to by the execution command.</p>
</td>
</tr class="table__body__row">

































    
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "timeout": "5000",
    "commandId": "string",
    "inputData": {}
  }
}</code></pre>



  <h3>Completion Message</h3>
  




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  











  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">completionCode </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>success if the commmand was successful otherwise error</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">errorDescription </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>If not success, then this is optional vendor dependent information to provide additional information</p>
</td>
</tr class="table__body__row">























  
  







<tr class="table__body__row">
  <td class="table__body__cell"> </td>
  <td class="table__body__cell">
    
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"></td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">internalCmdResult <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Result from the command referenced by execution command. If the data within payload is invalid or cannot be used for some reason, then hInternalCmdResult will return an error but the result of this command will be ok.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">dataToSign </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The data that must be signed by one of the authorities indicated by signers before the command referenced by execution command can be executed. If the command specified by execution command does not require authentication, then this field is not set string and the command result is success.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">signers <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    object
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the allowed signers of the data as a combination</p>
</td>
</tr class="table__body__row">









  







<tr class="table__body__row">
  <td class="table__body__cell">signers.none </td>
  <td class="table__body__cell">
    boolean
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Authentication is not required</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">signers.certhost </td>
  <td class="table__body__cell">
    boolean
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The data is signed by the current Host, using the RSA certificate-based scheme.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">signers.sighost </td>
  <td class="table__body__cell">
    boolean
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The data is signed by the current Host, using the RSA signature-based scheme.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">signers.ca </td>
  <td class="table__body__cell">
    boolean
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The data is signed by the Certificate Authority (CA).</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">signers.hl </td>
  <td class="table__body__cell">
    boolean
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The data is signed by the Higher Level (HL) Authority.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">signers.tr34 </td>
  <td class="table__body__cell">
    boolean
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The format of the data that was signed complies with the data defined in X9 TR342012 [Ref. 42]. This value can only be used in combination with the CERTHOST, CA or HL flags.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">signers.cbcmac </td>
  <td class="table__body__cell">
    boolean
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>A MAC is calculated over the data using lpsKey and the CBC MAC algorithm.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">signers.cmac </td>
  <td class="table__body__cell">
    boolean
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>A MAC is calculated over the data using lpsKey and the CMAC algorithm.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">signers.reserved_1 </td>
  <td class="table__body__cell">
    boolean
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Reserved for a vendor-defined signing method.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">signers.reserved_2 </td>
  <td class="table__body__cell">
    boolean
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Reserved for a vendor-defined signing method.</p>
</td>
</tr class="table__body__row">
















  







<tr class="table__body__row">
  <td class="table__body__cell">signers.reserved_3 </td>
  <td class="table__body__cell">
    boolean
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Reserved for a vendor-defined signing method.</p>
</td>
</tr class="table__body__row">








































    
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "completionCode": "success",
    "errorDescription": "string",
    "internalCmdResult": "string",
    "dataToSign": "string",
    "signers": {
      "none": true,
      "certhost": true,
      "sighost": true,
      "ca": true,
      "hl": true,
      "tr34": true,
      "cbcmac": true,
      "cmac": true,
      "reserved_1": true,
      "reserved_2": true,
      "reserved_3": true
    }
  }
}</code></pre>



  <h3>Event Messages</h3>
  <ul>
    
  </ul>

</div>






<h1>Unsolicited Events</h1>


  <a name="message-KeyManagement.InitializedEvent"></a>
  <div class="unsolicited">
    <h2 class="section-header">
      KeyManagement.InitializedEvent
      
    </h2>

    
    <h3>Description</h3>
    
        
    


  <p>This event specifies that, as a result of a Initialization command, the encryption module is now initialized and the master key (where required) and any other initial keys are loaded; ready to import other keys</p>




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">ident </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The value of the ID key formatted in base 64. if not required, this field can not be set or an empty string</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">key </td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The value of the encryption key formatted in base 64. if not required, this field can not be set or an empty string</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "ident": "string",
    "key": "string"
  }
}</code></pre>

  
  </div>

  <a name="message-KeyManagement.IllegalKeyAccessEvent"></a>
  <div class="unsolicited">
    <h2 class="section-header">
      KeyManagement.IllegalKeyAccessEvent
      
    </h2>

    
    <h3>Description</h3>
    
        
    


  <p>This event specifies that an error occurred accessing an encryption key. Possible situations for generating this event are listed in the description of lErrorCode.</p>




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">keyName <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the name of the key that caused the error.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">errorCode <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies the type of illegal key access that occurred</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "keyName": "string",
    "errorCode": "keynotfound"
  }
}</code></pre>

  
  </div>

  <a name="message-KeyManagement.CertificateChangeEvent"></a>
  <div class="unsolicited">
    <h2 class="section-header">
      KeyManagement.CertificateChangeEvent
      
    </h2>

    
    <h3>Description</h3>
    
        
    


  <p>This event indicates that the certificate module state has changed from Primary to Secondary.</p>




  


  <h4>Message Header</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">requestId <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Unique request identifier supplied by the client used to correlate the command with responses, events and completions.  For Unsolicited Events the field will be empty.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">type <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The message type, either command, response, event or completion.</p>
</td>
</tr class="table__body__row">















	
	  







<tr class="table__body__row">
  <td class="table__body__cell">name <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>The original message name, for example &quot;CardReader.Status&quot;</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  


  


  <h4>Message Payload</h4>


<table class="table">
    <thead class="table__head">
      <tr class="table__head__row">
        <th class="table__head__cell">Name</th>
        <th class="table__head__cell">Type</th>
        <th class="table__head__cell">Default</th>
        <th class="table__head__cell">Description</th>
      </tr>
    </thead>
    <tbody class="table__body">
    
	  







<tr class="table__body__row">
  <td class="table__body__cell">certificateChange <span class="required-badge">(Required)</span></td>
  <td class="table__body__cell">
    string
  </td>
  <td class="table__body__cell"></td>
  <td class="table__body__cell"><p>Specifies change of the certificate state inside of the KeyManagement.</p>
</td>
</tr class="table__body__row">















	
  </tbody>
</table>


  

<h5>Example Message (generated)</h5> 
<pre class="hljs mb-4 border border-grey-darkest rounded"><code>{
  "headers": {
    "requestId": "b34800d0-9dd2-4d50-89ea-92d1b13df54b",
    "type": "command",
    "name": "string"
  },
  "payload": {
    "certificateChange": "secondary"
  }
}</code></pre>

  
  </div>







   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   


<h1>Events</h1>



    </div>
  </div>

  <div class="fixed-footer">
    <div class="container">
      <h6>XFS4IoT specification - Preview version 0.3. Next preview - Q1 2021. Note: work-in-progress. Use at your own
        risk. All rights of exploitation in any form and by any means reserved worldwide for CEN national members.</h6>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"
    type="application/javascript"></script>
  <script type="application/javascript">
    function highlightCode() {
      var blocks = document.querySelectorAll('.hljs code');

      for (var i = 0; i < blocks.length; i++) {
        hljs.highlightBlock(blocks[i]);
      }
    }

    window.addEventListener('load', highlightCode);
  </script>
</body>

</html>